//tealium universal tag - utag.loader ut4.0.202306211452, Copyright 2023 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;window.__tealium_twc_switch=false;try{try{(function(w){w.vtg=w.vtg||{};w.vtg.config={"DataSource":[{"label":"utag","var":"utag.data"},{"label":"cfg","var":"utag.cfg"},{"label":"adl","function":"adobeDataLayer.getState"}],"Settings":{"debug":false,"ssl":true,"platform":"Desktop"},"AdobeData":{"enabled":true,"params":{"serverInfo":{"reportSuiteID":"{utag.isDev} ? {utag.tc_adobe_reportSuiteTest} : {utag.tc_adobe_reportSuiteProduction}","demdexUrl":"dpm.demdex.net/id?d_rtbd=json&d_ver=2&d_orgid=","marketingCloudOrgId":"ED7001AC512D2ABD0A490D4C@AdobeOrg","marketingCloudVisitorID":"{session.d_mid}","dataUrl":"{utag.tc_adobe_subdomain}.{utag.tc_network}/b/ss//6","cookieDomain":"{utag.tc_network}"}}},"AdobeMedia":{"enabled":true,"params":{"serverInfo":{"apiServerHost":"{utag.isDev} ? {utag.tc_adobe_subdomain}.{utag.tc_network}/va-stage : {utag.tc_adobe_subdomain}.{utag.tc_network}/va","sessionsPath":"/api/v1/sessions","eventsPath":"events","id3Owner":"com.cbsi.live.sg","sendUndefined":"{utag.isDev}","maxSessionTimeoutMinutes":30,"maxSessionStartWaitTime":180000,"aviaChapterTracking":"false","id3Tracking":"false"},"accountInfo":{"analytics.trackingServer":"{utag.tc_adobe_subdomain}.{utag.tc_network}","analytics.reportSuite":"{utag.isDev} ? {utag.tc_adobe_reportSuiteTest} : {utag.tc_adobe_reportSuiteProduction}","analytics.enableSSL":"true","visitor.marketingCloudOrgId":"ED7001AC512D2ABD0A490D4C@AdobeOrg","visitor.marketingCloudUserId":"{session.d_mid}"},"mediaInfo":{"media.playerName":"{adl.contextData.v.playerName}","media.contentType":"{data.isLive} ? Live : vod","media.length":"{data.isLive} ? 86400 : {adl.contextData.v.duration}","media.id":"{adl.contextData.v.mediaId}","media.name":"{adl.contextData.v.vidEpTitle}","media.channel":"{adl.contextData.v.vchannel}","media.network":"{utag.tc_network}","media.sdkVersion":"{data.playerVersion}","media.show":"{adl.contextData.v.seriesTitle}","media.genre":"{adl.contextData.v.category}","media.season":"{adl.contextData.v.seasonNumber}","media.episode":"{adl.contextData.v.episodeNumber}","media.showType":"{data.showType}","media.assetId":"{data.assetId}","media.firstAirDate":"{data.tvAirDate}","media.resume":"{data.hasSessionResumed}"},"adBreakInfo":{"media.ad.podFriendlyName":"{data.adBreakType}","media.ad.podIndex":"{data.adBreakPosition}","media.ad.podSecond":"{data.playhead}"},"adInfo":{"media.ad.name":"{data.adTitle}","media.ad.id":"{data.videoTitle} - {data.adTitle}","media.ad.length":"{data.adDuration}","media.ad.creativeId":"{data.adId}","media.ad.creativeURL":"{data.adUrl}","media.ad.playerName":"{data.playerName}","media.ad.podPosition":"{data.adPosition}"},"playerInfo":{"media.state.name":"{data.playerInfo.playerState}"},"playerStates":{"fullScreen":true,"closedCaptioning":true,"mute":true,"timeShifted":true},"customData":{"v.accountID":"{adl.contextData.v.accountID}","v.activity":"{adl.contextData.v.activity}","v.appName":"{adl.contextData.v.appName}","v.authSuiteID":"{adl.contextData.v.authSuiteID}","v.autoplayed":"{adl.contextData.v.autoplayed}","v.brandID":"{adl.contextData.v.brandID}","v.channel":"{adl.contextData.v.vchannel}","v.cmsBrand":"{adl.contextData.v.cmsBrand}","v.cmsLanguage":"{adl.contextData.v.cmsLanguage}","v.cmsPlatform":"{adl.contextData.v.cmsPlatform}","v.cmsRegion":"{adl.contextData.v.cmsRegion}","v.contentStatus":"{adl.contextData.v.contentStatus}","v.coppa":"{adl.contextData.v.coppa}","v.countryName":"{adl.contextData.v.countryName}","v.currentPlayerAudio":"{adl.contextData.v.currentPlayerAudio}","v.currentPlayerSubtitles":"{adl.contextData.v.currentPlayerSubtitles}","v.defaultPlayerAudio":"{adl.contextData.v.defaultPlayerAudio}","v.defaultPlayerSubtitles":"{adl.contextData.v.defaultPlayerSubtitles}","v.digitalExclusive":"{adl.contextData.v.digitalExclusive}","v.epCount":"{adl.contextData.v.epSegmentCount}","v.episodeN":"{adl.contextData.v.episodeNumber}","v.epLatest":"{adl.contextData.v.epLatest}","v.epLength":"{data.isLive} ? 86400 : {adl.contextData.v.duration}","v.epmgid":"{adl.contextData.v.mediaId}","v.eventName":"{adl.contextData.v.eventName}","v.genre":"{adl.contextData.v.category}","v.language":"{adl.contextData.v.language}","v.linearPubDate":"{data.publishDate}","v.mgid":"{adl.contextData.v.assetId}","v.monolithic":"{adl.contextData.v.monolithic}","v.pageType":"{adl.contextData.v.pageType}","v.pageURL":"{adl.contextData.v.pageURL}","v.playerState":"{adl.contextData.v.customPlayerState}","v.profileID":"{adl.contextData.v.profileID}","v.profileIDstate":"{adl.contextData.v.profileIDstate}","v.pv":"{adl.contextData.v.pv}","v.regStatus":"{adl.contextData.v.regStatus}","v.seamlessEnabled":"{adl.contextData.v.seamlessEnabled}","v.seasonN":"{adl.contextData.v.seasonNumber}","v.segmented":"{adl.contextData.v.segmented}","v.seriesInSeason":"{adl.contextData.v.seriesInSeason}","v.ssai":"{adl.contextData.v.ssai}","v.subscriberState":"{adl.contextData.v.subscriberState}","v.subscriptionID":"{adl.contextData.v.subscriptionID}","v.subscriptionSKU":"{adl.contextData.v.subscriptionSKU}","v.subscriptionStatus":"{adl.contextData.v.subscriptionStatus}","v.tealiumPlatformID":"{utag.ts_platformID}|{cfg.domain}{cfg.path}","v.thumbnailPreviewEnabled":"{adl.contextData.v.thumbnailPreviewEnabled}","v.timeStamp":"{adl.contextData.v.timeStamp}","v.tvemvpd":"{adl.contextData.v.tvemvpd}","v.tveUsrStat":"{adl.contextData.v.tveUsrStat}","v.vidArtist":"{adl.contextData.v.vidArtist}","v.vidCategory":"{adl.contextData.v.vidCategory}","v.vidcontDescriptor":"{adl.contextData.v.vidcontDescriptor}","v.vidContentType":"{adl.contextData.v.contentType}","v.videoVersion":"{data.version}|{data.playerVersion}","v.vidEpTitle":"{adl.contextData.v.vidEpTitle}","v.vidFranchise":"{adl.contextData.v.vidFranchise}","v.vidLength":"{data.isLive} ? 86400 : {adl.contextData.v.vidLength}","v.vidOwner":"{adl.contextData.v.vidOwner}","v.vidPlayerName":"{adl.contextData.v.playerName}","v.vidSeriesTitle":"{adl.contextData.v.seriesTitle}","v.vidTitle":"{adl.contextData.v.vidTitle}"},"qoeData":{"media.qoe.timeToStart":"{data.timeToStart}"},"chapterInfo":{"media.chapter.index":"{data.chapterIndex}","media.chapter.offset":"{data.chapterOffset}","media.chapter.length":"{data.chapterLength}","media.chapter.friendlyName":"Chapter {data.chapterIndex} - {adl.contextData.v.videoTitle}"},"errorInfo":{"media.qoe.errorID":"{data.errorCode}","media.qoe.errorSource":"player"},"dataType":{"analytics.enableSSL":"boolean","media.length":"int","media.resume":"boolean","media.ad.podIndex":"int","media.ad.podSecond":"int","media.ad.length":"int","media.ad.podPosition":"int","media.qoe.timeToStart":"int","media.chapter.index":"int","media.chapter.offset":"int","media.chapter.length":"int"}}},"ComscoreStreaming":{"enabled":true,"params":{"sessionInfo":{"publisherId":"3005086","platformApi":"13","persistentLabels":{"cs_ucfr":""}},"appInfo":{"setApplicationName":"{utag.tc_comscore_c3}","setApplicationVersion":"*null"},"initInfo":{"setImplementationId":"","setProjectId":"","setMediaPlayerName":"{adl.contextData.v.playerName}","setMediaPlayerVersion":"{adl.contextData.v.playerVersion}"},"contentInfo":{"setUniqueId":"{adl.contextData.v.mediaId}","setLength":"{data.isLive} ? 0 : {adl.contextData.v.duration}","setPublisherName":"*null","setProgramTitle":"{data.isLive} ? *null : {adl.contextData.v.seriesTitle}","setEpisodeTitle":"{adl.contextData.v.videoTitle}","setEpisodeSeasonNumber":"{data.isLive} ? *null : {adl.contextData.v.seasonNumber}","setEpisodeNumber":"{data.isLive} ? *null : {adl.contextData.v.episodeNumber}","setGenreName":"{data.isLive} ? *null : {adl.contextData.v.category}","carryTvAdvertisementLoad":"{data.isLive} ? 1 : 0","classifyAsCompleteEpisode":"{data.isEpisode} ? 1 : 0","setStationTitle":"*null","setDateOfDigitalAiring":"{data.isLive} ? *null : {adl.contextData.v.tvAirDate}","setDateOfTvAiring":"{data.isLive} ? *null : {adl.contextData.v.tvAirDate}","setDictionaryClassificationC3":"{utag.tc_comscore_c3}","setDictionaryClassificationC4":"{utag.tc_comscore_c4}","setDictionaryClassificationC6":"{data.isLive} ? {adl.contextData.v.videoTitle} : {adl.contextData.v.seriesTitle}"},"adInfo":{"setUniqueId":"{data.adId}","setLength":"{data.adDuration}","setRelatedContentMetadata":"{data.cm}"},"events":{"sessionStart":"createPlaybackSession","metadata":"setMetadata","play":"notifyPlay","pause":"notifyPause","end":"notifyEnd","bufferStart":"notifyBufferStart","bufferStop":"notifyBufferStop","seekStart":"notifySeekStart"},"dataFormat":{"setDateOfDigitalAiring":function(s){var m=s.match(/(\d+-\d+-\d+)/);if(m.length>0&&m[0]){s=m[0].split('-');}
return s;},"setDateOfTvAiring":function(s){var m=s.match(/(\d+-\d+-\d+)/);if(m.length>0&&m[0]){s=m[0].split('-');}
return s;},"setEpisodeNumber":function(s,c){if(/\D/ig.test(s)){s="*null";}
return s;},"setEpisodeSeasonNumber":function(s,c){if(/\D/ig.test(s)){s="*null";}else{s="0"+c.source.data.seasonNumber;}
return s;},"setProgramTitle":function(s,c){if(/Movie/ig.test(c.source.data.contentType)){s=c.source.data.videoTitle;}
return s;},"setDictionaryClassificationC6":function(s,c){if(/Movie/ig.test(c.source.data.contentType)){s=c.source.data.videoTitle;}
return s;},"setGenreName":function(s,c){if(!s||s==="undefined"){s="*null";}
return s;},"setLength":function(s,c){s=Math.floor(s*1000);return s;}}}},"Mux":{"enabled":true,"params":{"initInfo":{"minimumRebufferDuration":500},"mediaInfo":{"env_key":"{utag.isDev} ? bts222g674d2n35l5vd6l8230 : kamd8jpdbeekn8gapkqcupq14","viewer_user_id":"{data.userId}","page_type":"{data.pageType}","experiment_name":"ViacomCBS Tracking","sub_property_id":"{utag.tc_mux_sub_property_id}","player_name":"{adl.contextData.v.playerName}","player_version":"{data.playerVersion}","player_init_time":"{data.initTime}","player_software_name":"{adl.contextData.v.playerName}","player_software_version":"{data.playerVersion}","player_mux_plugin_name":"Mux {data.platform}","player_mux_plugin_version":"{data.pluginVersion}","video_id":"{adl.contextData.v.mediaId}","video_title":"{data.videoTitle}","video_series":"{adl.contextData.v.seriesTitle}","video_variant_name":"","video_variant_id":"","video_language_code":"","video_content_type":"","video_duration":"{data.durationMs}","video_stream_type":"{data.isLive} ? live : on-demand","video_producer":"","video_encoding_variant":"","video_cdn":"{data.cdn}","video_source_bitrate":"{data.bitrate}"},"adInfo":{"ad_asset_url":"{data.adUrl}"},"cdnInfo":{"video_cdn":"{data.cdn}"},"errorInfo":{"player_error_code":"{data.errorCode}","player_error_message":"{data.errorMessage}"},"requestFailedInfo":{"request_error":"{data.errorName}","request_error_text":"{data.errorMessage}","request_error_code":"{data.errorCode}"},"hbInfo":{"player_playhead_time":"{data.playhead}"},"qosInfo":{"video_source_bitrate":"{data.bitrate}"},"playerInfo":{"player_is_paused":"{player.isPaused}","player_width":"{player.width}","player_height":"{player.height}","video_source_height":"{player.srcHeight}","video_source_width":"{player.srcWidth}","player_is_fullscreen":"{player.isFullscreen}","player_autoplay_on":"{player.isAutoplay}","player_preload_on":"{player.hasPreload}","video_source_url":"{data.mediaUrl}","video_source_mime_type":"{player.srcMimeType}","video_source_duration":"{player.srcDuration}","video_poster_url":"{player.posterUrl}","player_language_code":"{player.language}"},"dataType":{"player_init_time":"int","video_duration":"int","video_source_duration":"int","player_is_paused":"boolean","player_is_fullscreen":"boolean","player_autoplay_on":"boolean","player_preload_on":"boolean"}}}};})(window);}catch(e){console.log(e)}}catch(e){console.log(e);}
if(!utag_condload){try{try{"use strict";window.vtg=window.vtg||{};window.vtg.ts=(()=>{var E=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var It=Object.getOwnPropertyNames;var pt=Object.prototype.hasOwnProperty;var dt=(c,t)=>{for(var e in t)E(c,e,{get:t[e],enumerable:!0})},ht=(c,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of It(t))!pt.call(c,o)&&o!==e&&E(c,o,{get:()=>t[o],enumerable:!(i=ct(t,o))||i.enumerable});return c};var gt=c=>ht(E({},"__esModule",{value:!0}),c),N=(c,t,e,i)=>{for(var o=i>1?void 0:i?ct(t,e):t,s=c.length-1,r;s>=0;s--)(r=c[s])&&(o=(i?r(t,e,o):r(o))||o);return i&&o&&E(t,e,o),o};var h=(c,t,e)=>new Promise((i,o)=>{var s=d=>{try{n(e.next(d))}catch(l){o(l)}},r=d=>{try{n(e.throw(d))}catch(l){o(l)}},n=d=>d.done?i(d.value):Promise.resolve(d.value).then(s,r);n((e=e.apply(c,t)).next())});var bt={};dt(bt,{Event:()=>y,ServiceApi:()=>g,hydra:()=>vt,snapshot:()=>Dt,track:()=>yt,version:()=>St});var y=(a=>(a.AdBreakEnd="AdBreakEnd",a.AdBreakStart="AdBreakStart",a.AdClick="AdClick",a.AdCuepointsAvailable="AdCuepointsAvailable",a.AdEnd="AdEnd",a.AdError="AdError",a.AdFirstQuartile="AdFirstQuartile",a.AdHeartbeat="AdHeartbeat",a.AdMidQuartile="AdMidQuartile",a.AdPause="AdPause",a.AdProgress="AdProgress",a.AdResume="AdResume",a.AdSkip="AdSkip",a.AdStalled="AdStalled",a.AdStart="AdStart",a.AdThirdQuartile="AdThirdQuartile",a.AdobeData="AdobeData",a.AviaJsReady="AviaJsReady",a.BitrateChange="BitrateChange",a.BufferEnd="BufferEnd",a.BufferStart="BufferStart",a.CdnChange="CdnChange",a.ChapterComplete="ChapterComplete",a.ChapterStart="ChapterStart",a.CloudIdReady="CloudIdReady",a.ContentEnd="ContentEnd",a.ContentPause="ContentPause",a.ContentPlaying="ContentPlaying",a.ContentProgress="ContentProgress",a.ContentResume="ContentResume",a.ContentSegmentEnd="ContentSegmentEnd",a.ContentSegmentStart="ContentSegmentStart",a.ContentStart="ContentStart",a.CtvTimedData="CtvTimedData",a.CuePoint="CuePoint",a.DaiError="DaiError",a.DataUpdate="DataUpdate",a.DrmCreated="DrmCreated",a.FatalError="FatalError",a.Foreground="Foreground",a.Heartbeat="Heartbeat",a.LiveUiStopped="LiveUiStopped",a.LogEvent="LogEvent",a.PausedHeartbeat="PausedHeartbeat",a.PlaybackStarted="PlaybackStarted",a.PlaybackStateWaiting="PlaybackStateWaiting",a.PlayerError="PlayerError",a.PlayerState="PlayerState",a.PlayerUpdate="PlayerUpdate",a.QualityChange="QualityChange",a.ResourceInterrupt="ResourceInterrupt",a.ResourceReady="ResourceReady",a.RuntimeError="RuntimeError",a.SeekEnd="SeekEnd",a.SeekStart="SeekStart",a.SessionEnd="SessionEnd",a.SessionIdReady="SessionIdReady",a.SessionStart="SessionStart",a.StreamMetadata="StreamMetadata",a.TimeUpdate="TimeUpdate",a.PlaybackStatePlaying="PlaybackStatePlaying",a))(y||{});function v(c){return function(t,e,i){typeof i.value=="function"&&(typeof t.eventMap!="object"&&(t.eventMap={}),t.eventMap[c]||(t.eventMap[c]=i.value))}}var b=class{constructor(t,e){this.key=t;this.service=e}onUpdate(t){let i=this.eventMap[t.name];this.notification=t,i&&i.apply(this)}};var nt={};dt(nt,{ConfigUtil:()=>U,Cookie:()=>k,DateUtil:()=>T,FetchUtil:()=>w,ObjectUtil:()=>A,StringUtil:()=>p,Timer:()=>P,View:()=>f});var U=class{static isNodeEnabled(t){return t?!!t.enabled:!1}};var f=class{static get(t){try{return window[t]}catch(e){}}static find(t,e){e=e||window;let i;if(t.indexOf(".")>-1){let o=t.split("."),s=o.shift()||"",r=o.join(".");i=f.find(r,e[s])}else i=e[t];return i}static getSize(){let t=f.get("screen");return t&&t.width&&t.height?t.width+"x"+t.height:"n/a"}static getProtocol(t){return["http",t?"s":"","://"].join("")}};var k=class{static get(t){let e=f.get("document");if(!(e&&e.cookie))return"";let o=("; "+e.cookie).split(["; ",t,"="].join("")),s="";if(o.length>1){let r=o[1].split(";");r&&(s=r.shift()||"")}return s}static set(t,e,i){let o=f.get("document");!o||(i=i?";domain="+i:"",o.cookie=[t+"="+e,i,";expires=Tue, 19 Jan 2038 03:14:07 UTC",";path=/"].join(""))}};var T=class{static getTime(){return new Date().getTime()}static getElapsedSince(t){return T.getTime()-t}};var p=class{static trim(t){return p.isDefined(t)?t.toString().trim():t}static isDefined(t){return!(typeof t=="undefined"||t==="undefined"||t===null||t==="")}static isTruthy(t){return p.isDefined(t)&&(typeof t=="boolean"&&t===!0||t==="true")}static toString(t){let e=f.get("JSON")||JSON;return e&&e.stringify?e.stringify(t):t.toString()}static toObject(t){let e=f.get("JSON")||JSON;return e&&e.parse?e.parse(t):t}static toMillisec(t){return isNaN(t)?t:Math.floor(t*1e3)}static toQs(t){let e=[],i=s=>s,o=f.get("encodeURIComponent")||i;for(let s in t){let r=o(s),n=o(t[s]);e.push(r+"="+n)}return e.join("&")}static trimFwdSlash(t){return t.replace(/^\/+/,"")}};var A=class{static hasKey(t,e){return t.hasOwnProperty(e)}static merge(t,e){e=e||{};let i,o;for(i in t)o=t[i],t.hasOwnProperty(i)&&p.isDefined(o)&&(e[i]=typeof o=="object"?A.merge(o,e[i]):o);return e}static deleteIfDefined(t,e){return e.hasOwnProperty(t)?(delete e[t],!0):!1}};var w=class{static fetch(t){return h(this,null,function*(){let e=f.getProtocol(t.ssl),i={method:"POST",headers:{"Content-type":"application/json"}};return t.body&&(i.body=JSON.stringify(t.body)),t.requestInit&&(i=A.merge(t.requestInit,i)),fetch(e+t.url,i)})}};var P=class{constructor(t){this.millisec=t;this.running=!1;this.elapsed=0;this.millisec=t}start(t){if(!setInterval)return;let e=()=>{this.elapsed+=this.millisec,t.call(null,this.elapsed)};this.running||(this.id=setInterval(e,this.millisec),this.running=!0)}stop(){!clearInterval||!this.running||(clearInterval(this.id),this.running=!1)}};var F=class{constructor(t){this.service=t;this.data={}}update(t){let e=this.data;Object.keys(t).forEach(i=>{let o=t[i];p.isDefined(o)&&(e[i]=o)}),this.data=e,this.service&&this.service.notify("DataUpdate",this.data)}getData(){return this.data}};var M=class{constructor(t){this.dataRules=[];this.dataSources={};this.dataTypes={};this.transformers={};t.forEach(e=>{this.dataRules.push(new e)})}addDataSource(t,e){this.dataSources[t]=e}setConfig(t){this.config=t}setTransformers(t){this.transformers=t}setDataTypes(t){this.dataTypes=t}mapEventNode(t){let e=this.config.events;if(!e)return;let i=e[t];if(!!i)return this.execDataRules(i)}mapParamNode(t){let e=this.config.params;if(!e)return;let i=e[t];if(!!i)return this.execDataRules(i)}execDataRules(t){let e={};return this.dataRules.forEach(i=>{e=i.exec({source:this.dataSources,map:t,data:e,types:this.dataTypes,format:this.transformers})}),e}};var B=class{exec(t){let e=t.data,i=t.format;return Object.keys(i).forEach(o=>{let s=e[o],r=i[o];if(s&&r&&typeof r=="function"){let n;try{n=r(s,t)}catch(d){n=void 0}n&&(e[o]=n)}}),e}};var V=class{exec(t){let e={};return Object.keys(t.data).forEach(i=>{let o=t.data[i].toString();if(o)switch(t.types[i]){case"int":e[i]=parseInt(o);break;case"boolean":e[i]=o==="true";break;default:let s=t.data[i];e[i]=typeof s=="object"?s:o;break}}),e}};var H=class{exec(t){let e={},i=p.trim,o=p.isDefined;return Object.keys(t.data).forEach(s=>{if(t.data[s]){let r=t.data[s],n=r.toString(),d=n.split(" || ");if(e[s]=typeof r=="object"?r:n,d.length>1){let l=d.find(u=>o(i(u)));l&&(e[s]=i(l))}}}),e}};var j=class{exec(t){let e={},i=(o,s)=>{let r=o?o.toString().match(s):null;return r&&r.length>0?r[1]:""};return Object.keys(t.map).forEach(o=>{let s=t.map[o],r=/\{.*?\}/g,n=s?s.toString().match(r):null;e[o]=t.map[o],n&&n.forEach(d=>{let l=i(d,/{(\w+).+}/),u=i(d,/{\w+\.(.+)}/),I=t.source[l];if(l&&u&&I){let m=f.find(u,I);if(typeof I=="function"){let x=I.call(null);m=f.find(u,x)}typeof m=="object"?e[o]=m:e[o]=e[o].replace(d.toString(),m)}})}),e}};var L=class{exec(t){let e={};return Object.keys(t.data).forEach(i=>{if(t.data[i]){let s=t.data[i].toString().match(/(.+)\?(.+)\s:\s(.+)/);if(s&&s.length>3){let r=p.trim(s[1]),n=!1;(r==="true"||r!=="undefined")&&(n=!0),(r==="false"||r==="")&&(n=!1),e[i]=n?s[2]:s[3],e[i]=p.trim(e[i])}else e[i]=t.data[i]}}),e}};var _=class{constructor(t){this.service=t;this.engine=new M([j,L,H,V,B]);let e=t.manifest.DataSource,{View:i}=t.util;e&&e.forEach(o=>{if(o){let s=o.var||o.function;if(s){let r=i.find(s);this.engine.addDataSource(o.label,r)}}})}mapByNodeName(t,e,i){let o=this.getBaseNode(t,i);if(o&&o.params){let s=o.params;s.dataType&&this.engine.setDataTypes(s.dataType),s.dataFormat&&this.engine.setTransformers(s.dataFormat)}return this.engine.mapParamNode(e)}mapByEventName(t,e,i){let o=this.getBaseNode(t,i);return o&&o.events&&(o.dataTypes&&this.engine.setDataTypes(o.dataTypes),o.transformers&&this.engine.setTransformers(o.transformers)),this.engine.mapEventNode(e)}getBaseNode(t,e){let o=this.service.manifest[t],{ObjectUtil:s}=this.service.util;if(!o)return;this.engine.setConfig(o);let r=this.service.dataProxy.getData();e&&(r=s.merge(r,e)),this.engine.addDataSource("data",r);let n=this.service.manifest.SessionData;return n&&this.engine.addDataSource("session",n),o}execDataRules(t){return this.engine.execDataRules(t)}};var Y=class{constructor(t){this.service=t;this.enabled=!1;this.header="[ts] ("+t.key+")"}log(...t){t.unshift(this.header),console.log(...t),this.notify("log",t)}debug(...t){t.unshift(this.header),console.debug(...t),this.notify("debug",t)}info(...t){t.unshift(this.header),console.info(...t),this.notify("info",t)}warn(...t){t.unshift(this.header),console.warn(...t),this.notify("warn",t)}notify(t,...e){let i={msg:t,obj:e};this.service.notify("LogEvent",i)}};var q=class{constructor(t){this.service=t;this.receivers=[]}addReceiver(t){this.find(t.key)||this.receivers.push(t)}find(t){return this.receivers.find(e=>e.key===t)}notify(t){this.receivers.forEach(e=>{e.onUpdate.call(e,t)})}removeAll(){this.receivers.forEach(t=>{t.onRemove()}),this.receivers=[]}};var G=class{constructor(t){this.manifest=t}setItem(t,e){let i=this.manifest.SessionData||{};this.manifest.SessionData=Object.defineProperty(i,t,e)}getItem(t){return this.manifest.SessionData[t]}};var Q=class{getId(t){let{View:e}=t.util;return new Promise((i,o)=>{let s=e.get("_satellite");if(!s)o("api not found");else if(typeof s.getVar=="function"){let r=s.getVar("ECID");r?i(r):o("mid not found")}else o("api method not found")})}};var J=class{getId(t){return this.util=t.util,new Promise((e,i)=>{var d;let s=t.manifest.AdobeData,r=(d=s==null?void 0:s.params)==null?void 0:d.serverInfo,n=r.marketingCloudOrgId;if(!(r&&n))i("adobe org id not found");else{let l=this.getAmcvId(n);l?(this.saveAmcvCookie(l,n,r.cookieDomain),e(l)):i("amcv not found")}})}getAmcvId(t){let{Cookie:e,View:i}=this.util,o="AMCV_"+this.encode(t),s=e.get(o),r=i.get("decodeURIComponent"),n=/MCMID\|(\d+)/,d;if(s&&r){let u=r(s).match(n);u&&u.length>1&&u[1]&&(d=u[1])}return d}saveAmcvCookie(t,e,i){let{Cookie:o}=this.util,s="AMCV_"+this.encode(e),r=this.encode("MCMID|")+t;o.set(s,r,i)}encode(t){return t.replace("@","%40").replace("|","%7C")}};var z=class{getId(t){let{View:e}=t.util;return new Promise((i,o)=>{var s;if(!t.manifest)o("config not found");else{let r=t.manifest,n=r.Settings,d=r.AdobeData,l=(s=d==null?void 0:d.params)==null?void 0:s.serverInfo,u=l.marketingCloudOrgId;if(!(l&&u))o("adobe org id not found");else{let m=[e.getProtocol((n==null?void 0:n.ssl)||!1),l.demdexUrl,l.marketingCloudOrgId].join("");fetch(m).then(x=>x.json()).then(x=>{let C=x["d_mid"];C?i(C):o("mid not found")})}}})}};var $=class{getId(t){let{Cookie:e,View:i}=t.util;return new Promise((o,s)=>{let r=i.get("localStorage"),n=r?r.getItem("d_mid"):e.get("d_mid");n?o(n):s("mid not found")})}};var W=class{getId(t){let{View:e}=t.util;return new Promise((i,o)=>h(this,null,function*(){var u;let s=e.get("Visitor"),n=t.manifest.AdobeData,d=(u=n==null?void 0:n.params)==null?void 0:u.serverInfo,l=d.marketingCloudOrgId;if(!(s&&d&&l))o("unable to sync visitor id");else try{let I=yield this.requestMID(s,l);I||(I=yield this.requestMID(s,l,!0)),I?i(I):o("mid not found")}catch(I){o(I)}}))}requestMID(t,e,i){return new Promise((o,s)=>{let r=t.getInstance(e);if(r)if(i)r.getMarketingCloudVisitorID(n=>{o(n)});else{let n=r.getMarketingCloudVisitorID();o(n)}else s("visitor not found")})}};var X=class{exec(t){return h(this,null,function*(){this.service=t;let e=[Q,W,J,$,z],i=e.length,o=t.logger;for(let s=0;s<i;s++){let r;try{if(r=yield new e[s]().getId(t),r){this.saveMid(r);break}}catch(n){o.enabled&&o.warn(n),this.service.notify("RuntimeError",{e:n})}}})}saveMid(t){var r;let{Cookie:e,View:i}=this.service.util,o=this.service.logger;o.enabled&&o.debug("IdSyncTask "+t);let s=i.get("localStorage");if(s)s.setItem("d_mid",t);else{let d=this.service.manifest.AdobeData,l=(r=d==null?void 0:d.params)==null?void 0:r.serverInfo;e.set("d_mid",t,l.cookieDomain)}this.service.sessionData.setItem("d_mid",{value:t,writable:!1}),this.service.notify("CloudIdReady",{visitorId:t})}};var Z=class extends b{constructor(e,i,o,s){super(e,s);this.key=e;this.bundle=i;this.config=o;this.service=s;this.notifications=[]}onUpdate(e){this.notifications.push(e),this.receiver||this.createReceiver(),this.flushQueue()}flushQueue(){if(!this.receiver)return;let e=this.notifications.length;for(let i=0;i<e;i++){let o=this.notifications.shift();o&&this.receiver.onNotify(o)}}createReceiver(){let{View:e}=this.service.util,i=e.find(this.bundle);typeof i=="function"&&(this.receiver=new i(this.key,this.service),this.receiver.onRegister(),this.flushQueue())}onRemove(){this.flushQueue(),this.receiver&&this.receiver.onRemove(),this.receiver=null,this.notifications=null,this.key=null,this.config=null}};var D=class extends b{onRunetimeError(){this.service.sendHydraMessage({app_id:this.notification.body.serviceKey,sender_str:"HydraReporter",type_num:4,data_obj:{detail:this.notification.body},info_obj:{}})}onHydraLog(){this.service.sendHydraMessage({app_id:this.notification.body.serviceKey,sender_str:"Logger",type_num:0,data_obj:{detail:this.notification.body},info_obj:{}})}onDataUpdate(){this.service.sendHydraMessage({app_id:this.notification.body.serviceKey,sender_str:"DataProxy",type_num:2,data_obj:{detail:this.notification.body},info_obj:{}})}onPlayerUpdate(){this.service.sendHydraMessage({app_id:this.notification.body.serviceKey,sender_str:"AviaJs",type_num:1,data_obj:this.notification.body,info_obj:{}})}onResourceStart(){this.service.sendHydraMessage({app_id:this.notification.body.serviceKey,sender_str:"AviaJs",type_num:1,data_obj:{detail:this.notification.body},info_obj:{isPlayerResource:!0}})}onRemove(){throw new Error("Method not implemented.")}};D.NAME="HydraReporter",N([v("RuntimeError")],D.prototype,"onRunetimeError",1),N([v("LogEvent")],D.prototype,"onHydraLog",1),N([v("DataUpdate")],D.prototype,"onDataUpdate",1),N([v("PlayerUpdate"),v("TimeUpdate")],D.prototype,"onPlayerUpdate",1),N([v("ResourceReady")],D.prototype,"onResourceStart",1);var K=class{constructor(){this.receivers=[D]}exec(t){let{ConfigUtil:e}=t.util,i=t.logger;i.enabled&&i.debug("RegistrationTask.exe"),this.receivers.forEach(s=>{t.notifier.addReceiver(new s(s.NAME,t))});let o=t.manifest;Object.keys(o).forEach(s=>{let r=o[s];if(e.isNodeEnabled(r)){let n=["vtg",s.toLowerCase(),s].join("."),d=new Z(s,n,r,t);t.notifier.addReceiver(d)}})}};var tt=class{constructor(){this.key="YouboraSessionTask"}exec(t){return h(this,null,function*(){let{ObjectUtil:e,StringUtil:i}=t.util,o=t.logger;if(o.enabled&&o.info(this.key),this.service=t,this.getSessionData("youboraAuthStart")){o.enabled&&o.info(this.key+": NOOP");return}this.setSessionDataItem("youboraAuthStart",!0);let r=!!t.sessionData.getItem("ssl"),n=this.mapYouboraByNodeName("serverInfo"),d=this.mapYouboraByNodeName("accountInfo"),l=this.mapYouboraByNodeName("authInfo"),u=e.merge(d,l),I=(n==null?void 0:n.authUrl)+"?"+i.toQs(u);try{let m=yield this.fetchAuth({ssl:r,url:I,requestInit:{method:"GET",headers:{Accept:"application/json"}}});o.enabled&&o.debug(this.key,I,m),t.notify("SessionIdReady",m);let x=n==null?void 0:n.sessionPath,C=n==null?void 0:n.sessionRootKey,ft=n==null?void 0:n.domainKey,rt=n==null?void 0:n.authResponseKey,ut=m[rt][ft]+x,at=m[rt][C],mt={interval:n==null?void 0:n.sessionInterval,sslEnabled:r,url:ut,payload:{accountCode:d==null?void 0:d.accountCode,sessionRoot:at,sessionId:at,timemark:""}};this.startSessionHeartBeat(mt)}catch(m){t.notify("RuntimeError",{errorMsg:m.statusText})}})}fetchAuth(t){return h(this,null,function*(){let{FetchUtil:e}=this.service.util;return new Promise((i,o)=>h(this,null,function*(){let s=yield e.fetch(t),r=yield s.json();s.ok&&r?i(r):o(s)}))})}mapYouboraByNodeName(t){return this.service.dataRunner.mapByNodeName("Youbora",t)}getSessionData(t){return this.service.sessionData.getItem(t)}setSessionDataItem(t,e){this.service.sessionData.setItem(t,{value:e,writable:!0})}startSessionHeartBeat(t){let{FetchUtil:e,StringUtil:i,Timer:o}=this.service.util,s=new o(t.interval*1e3),r=i.toQs(t.payload),n=()=>{let d=n.url+new Date().getTime(),l=m=>{n.logger.enabled&&n.logger.warn(n.key,m)},u=m=>{n.logger.enabled&&n.logger.info(n.key,m)},I=n.fetch({ssl:n.ssl,url:d,requestInit:{method:"GET"}});I.then(m=>{m.status!=200&&l("Session beat HttpRequest call rejected")}),I.catch(()=>{l("Session beat HttpRequest call failed")}),u(d)};n.fetch=e.fetch,n.ssl=t.sslEnabled,n.url=t.url+"beat?"+r,n.logger=this.service.logger,n.key="[YOUBORA]",s.start(n)}};var et=class{exec(t){let e=t.logger,{StringUtil:i}=t.util,o=!1,s=!0,r=t.dataRunner.getBaseNode("Settings");if(!r){e.warn("Settings"+" node is missing");return}let n=t.dataRunner.execDataRules(r);n&&(o=!!i.isTruthy(n.debug),s=!!i.isTruthy(n.ssl)),t.logger.enabled=o,e.enabled&&e.debug("SetDebugTask.exec"),t.sessionData.setItem("debug",{value:o,writable:!0}),t.sessionData.setItem("ssl",{value:s,writable:!0})}};var S=class{constructor(t,e){this.token=t;this.service=e;this.queue=[];this.retry=[];this.order=0;this.batch=15;this.hasAuth=!1;this.onRegister(e.manifest.Hydra)}static getInstance(t,e){return S.instance||(S.instance=new S(t,e)),S.instance}onRegister(t){if(!t)return;let e=t.server;this.batch=e.batchCount,this.authKey=e.sessionKey,this.authUrl=e.apiHost+e.authPath,this.postUrl=e.apiHost+e.postPath,this.configUrl=e.configEndpoint,this.startAuth()}startAuth(){return h(this,null,function*(){if(this.sessionId||this.hasAuth)return;this.hasAuth=!0;let t={auth:{app_token:this.token}},{FetchUtil:e}=this.service.util,i=yield e.fetch({ssl:!0,url:this.authUrl,body:t}),o=yield i.json();if(i.ok&&o){let s=o[this.authKey];s?(this.sessionId=s.toString(),this.dispatch(this.queue.length)):this.onError(this.authKey+" not found")}else this.onError(i.statusText)})}post(t){let{DateUtil:e}=this.service.util;t.client_ts=e.getTime(),t.order_num=this.order++,this.queue.push(t),this.isReady()&&this.dispatch(this.batch)}dispatch(t){let e=[],i=this.queue.length,o=this.service.logger,{FetchUtil:s}=this.service.util;t>=i&&(t=i);for(let n=0;n<t;n++){let d=this.queue.shift();if(!d)break;if(d.session_id=this.sessionId,d.type_num===3){s.fetch({ssl:!0,url:this.configUrl,body:d});return}e.push(d)}if(e.length===0)return;let r={records:e};s.fetch({ssl:!0,url:this.postUrl,body:r}).then(n=>{o.info("Hydra dispatch "+e.length)}).catch(n=>{this.retry.push(e)})}flush(){this.sessionId&&this.dispatch(this.queue.length)}isReady(){let{StringUtil:t}=this.service.util;return t.isDefined(this.sessionId)&&this.queue.length>this.batch}onError(t){this.hasAuth=!1,console&&console.warn(t)}};var it=class{exec(t){let e=t.manifest.Hydra,{View:i}=t.util,o=i.get("localStorage");if(!(e&&o))return;let s=o.getItem("hydra");s&&e.enabled&&(t.logger.enabled=!0,t.logger.debug("StartHydraTask "+s),t.hydra=S.getInstance(s,t),t.sendHydraMessage({app_id:t.key,sender_str:"StartHydraTask",type_num:3,data_obj:t.manifest,info_obj:{}}))}};var ot=class{constructor(t){this.service=t}exec(){let{ConfigUtil:t}=this.service.util,e=[et,K],i=this.service.manifest,o=t.isNodeEnabled;i.Hydra&&e.push(it),o(i.AdobeMedia)&&e.push(X),o(i.Youbora)&&e.push(tt),e.forEach(s=>{new s().exec(this.service)})}};var O=class{constructor(t){this.key=t;this.util=nt}static getInstance(t){return O.instance[t]||(O.instance[t]=new O(t)),O.instance[t]}onRegister(t){this.manifest||(this.manifest=t,this.logger=new Y(this),this.notifier=new q(this),this.dataProxy=new F(this),this.dataRunner=new _(this),this.sessionData=new G(t),new ot(this).exec())}notify(t,e={}){let{DateUtil:i}=this.util;e.timestamp=e.timestamp||i.getTime(),e.serviceKey=this.key;let o={name:t,body:e};if(this.notifier.notify(o),this.hydra)switch(t){case"ContentEnd":case"ContentPause":case"ContentResume":case"ResourceInterrupt":case"SessionEnd":this.hydra.flush();break}}getVersion(){return"23.05.24-16:15:14"}sendHydraMessage(t){!this.hydra||this.hydra.post(t)}destroy(){}},g=O;g.instance={};function yt(c,t={}){let e=t&&t.playerId?g.getInstance(t.playerId):g.getInstance("app");if(!e.manifest){let i=f.find("vtg.config");if(i)e.onRegister(i);else throw"vtg.config not found"}e.dataProxy.update(t),e.notify(c,t)}function Dt(){let c={};if(g.instance)for(let t in g.instance){let e=g.instance[t];c[t]=e.dataProxy.getData()}return c}function St(){return"23.05.24-16:15:14"}function vt(c){let t=f.get("localStorage");!t||t.setItem("hydra",c||"")}return gt(bt);})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{"use strict";var vtg=vtg||{};vtg.aviatracking=(()=>{var f=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var v=(s,t,e)=>t in s?f(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,E=(s,t)=>{for(var e in t||(t={}))y.call(t,e)&&v(s,e,t[e]);if(T)for(var e of T(t))R.call(t,e)&&v(s,e,t[e]);return s};var b=(s,t)=>{for(var e in t)f(s,e,{get:t[e],enumerable:!0})},N=(s,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of C(t))!y.call(s,a)&&a!==e&&f(s,a,{get:()=>t[a],enumerable:!(i=D(t,a))||i.enumerable});return s};var P=s=>N(f({},"__esModule",{value:!0}),s);var M={};b(M,{AviaTracking:()=>h});var u=class{constructor(t){this.connector=t;this.startTime=0;this.playhead=0;this.mediaTime=0;this.chapterOffset=0;this.adPlayhead=0;this.utcTimeSeconds=0;this.lastUtcTime=0;this.seekTimestamp=0;this.pauseTimestamp=0;this.bufferTimestamp=0;this.hasResourceStart=!1;this.hasAdBreakStart=!1;this.hasResourceEnd=!1;this.isTimeShifted=!1;this.hasSeekStart=!1;this.hasContentPause=!1;this.hasAdPause=!1;let{DateUtil:e}=this.connector.serviceApi.util;this.initTime=e.getTime();let i=this.connector.services;this.ERROR_CODE_ENUM=i.avia.ErrorCode,this.RESOURCE_ATTACHMENT_CHECK=i.avia.Measurement.RESOURCE_ATTACHMENT+":end"}getAdBreakInfo(){let t=this.connector.player.getAdBreakTimes(),e=t.length,i=t.map(c=>c.start).join(","),r=(this.getDetail()||{}).adBreakInfo,o=this.getContentInfo(),{ObjectUtil:n}=this.connector.serviceApi.util;if(r&&typeof r.adBreakType=="string"){let c=r.adBreakType.toLocaleLowerCase(),l="roll";c.indexOf(l)===-1?(r.adBreakType=c+l,r.adBreakTypeKey=c):r.adBreakTypeKey=c.replace(l,"")}return r.isDai=r.adTechnology&&r.adTechnology.indexOf("dai")>-1,r.adBreakCount=e,r.adBreakTimeList=i,r.adBreakList=t,n.merge(r,o)}getAdInfo(){let e=(this.getDetail()||{}).adInfo;return e.adUrl=e.adAssetUrl,e}getSessionInfo(){let{View:t,ObjectUtil:e}=this.connector.serviceApi.util,i=this.connector.services,a=this.connector.player,r=i.buildInfo;if(!a.resource)return null;let o=a.resource.metadata||{},n=a.resource.location,c=i.system,l=this.getContentInfo(),g={playerName:r.playerName,playerVersion:r.playerVersion,playerId:a.id,userCountry:o.country||"us",drmEnabled:this.isDrmEnabled(n),isMobile:!!c.isMobile,isPaidContent:!!o.isPaidContent,isAffiliateFeed:!!o.isAffiliateFeed,isPlaylist:!!o.isPlaylist,isFullscreen:!1,systemDevice:c&&c.device?c.device:"",screenSize:t.getSize(),initTime:this.initTime},S=e.merge;return S(g,S(o,l))}getContentInfo(){let{DateUtil:t}=this.connector.serviceApi.util,e=this.connector.player;if(!e.resource)return{};let i=e.resource.metadata||{},a=e.resource.location,r=a?a.mediaUrl:"",o=Math.abs(t.getTime()-this.startTime),n=e.resource.playback;return{timeToStart:o,mediaUrl:r,mediaId:i.videoId||"",duration:i.duration||e.contentDuration,bitrate:e.bitrate,isLive:this.isLive(),isDcrLive:!!i.isDcrLive,isEpisode:!!i.episodeFlag,streamType:this.getStreamType(),hasSessionResumed:!!(n&&n.startTime)}}getChapterInfo(){let t=this.chapterOffset,e=this.getPlayerInfo();return{chapterOffset:t,chapterIndex:t+1,chapterLength:e.srcDuration}}getPlayhead(){let t=this.getDetail()||{},i=this.connector.player.contentTime;return this.isLive()?this.playhead=t.elapsedTimeMs/1e3:this.isDvr()?this.playhead=this.getUtcPlayhead():i>-1&&(this.playhead=i,this.hasResourceEnd&&(this.playhead=t.duration)),this.playhead}getElapsedTime(){return(this.getDetail()||{}).elapsedTimeMs||-1}getUtcPlayhead(){let t=this.connector.player,e=Math.floor(t.liveStreamUtcTime/1e3);if(e!==this.utcTimeSeconds){this.utcTimeSeconds=e;let i=new Date(t.liveStreamUtcTime),a=i.getUTCHours(),r=i.getUTCMinutes(),o=i.getUTCSeconds();this.lastUtcTime=a*60*60+r*60+o}return this.lastUtcTime}getPlayerInfo(){var o,n;let t=this.connector.services,e=this.connector.player,i=this.connector.eventApi.getData(),a=((o=e.dimensions)==null?void 0:o.width)||-1,r=((n=e.dimensions)==null?void 0:n.height)||-1;return{isPaused:this.isPlaybackStopped(),isAutoplay:!1,hasPreload:!1,width:a,height:r,srcWidth:a,srcHeight:r,srcDuration:Math.floor(e.streamDuration),srcBitrate:e.bitrate,isFullscreen:i.isFullscreen,srcMimeType:i.srcMimeType,srcUrl:"",posterUrl:"",language:t.localization.language,playerState:this.playerState,volume:this.connector.player.volume,muted:this.connector.player.muted}}getStreamType(){var a;let t=this.connector.player,i=(((a=t.resource)==null?void 0:a.metadata)||{}).streamType||t.streamType;return i?i.toUpperCase():""}isLive(){return this.getStreamType()==="LIVE"}isVod(){return this.getStreamType()==="VOD"}isDvr(){return this.getStreamType()==="DVR"}getDetail(){return this.connector.aviaEvent.detail}setStartTime(t){this.startTime=t}updatePlayerInfo(){if(!this.hasResourceStart)return;let t={playerInfo:this.getPlayerInfo()};this.connector.serviceApi.dataProxy.update(t)}isPlaybackStopped(){let t=this.connector,e=t.services;return t.player.playbackState!==e.avia.PlaybackState.PLAYING}isDrmEnabled(t){if(!(t&&t.drm))return!1;let e=t.drm.aes,i=t.drm.fairplay,a=t.drm.playready,r=t.drm.widevine;return!!(e&&e.provider||i&&i.appCertUrl||a&&a.url||r&&r.url)}isTimeUpdated(){let t=!1,e=Math.floor(this.playhead);return this.mediaTime!==e&&(this.mediaTime=e,t=!0),t}getQualityInfo(t){return{renditionWidth:t.width,renditionHeight:t.height,renditionBitrate:t.bitrate,renditionCodec:t.codec}}getErrorInfo(t){let e=this.ERROR_CODE_ENUM,i=Object.keys(e).find(a=>e[a]===t.code);return{errorName:t.category,errorMessage:t.message,errorCode:t.code,errorLabel:i}}isHeartbeat(){return this.isModulo(this.mediaTime)}isAdHeartbeat(){return this.isModulo(this.adPlayhead)}isModulo(t){return Math.floor(t)%d.pingInterval===0}};var m=class{constructor(t){this.connector=t;this.playhead=0}post(t,e={}){let i=this.connector.serviceApi;switch(t){case"SessionStart":let r=i.manifest.Settings;i.dataProxy.update({platform:r==null?void 0:r.platform,version:i.getVersion()});break}e.playhead>-1?(e.playheadMs=e.playhead,e.playhead=Math.floor(e.playhead),this.playhead=e.playhead):e.playhead=this.playhead;let a=this.connector.aviaEvent;a&&a.timeStamp&&(e.timestamp=a.timeStamp),this.updateData(e),i.notify(t,e)}getData(){return this.connector.serviceApi.dataProxy.getData()}updateData(t){let{DateUtil:e}=this.connector.serviceApi.util;t.utcSeconds=Math.round(e.getTime()/1e3),t.timestamp||(t.timestamp=e.getTime()),t.duration>0&&(t.durationMs=t.duration,t.duration=Math.floor(t.duration)),this.connector.serviceApi.dataProxy.update(t)}destroy(){this.playhead=null,this.connector=null}};var I=class{constructor(t,e,i,a){this.player=t;this.options=e;this.services=i;this.serviceApi=a;this.isPlaylist=!1;let{Timer:r}=this.serviceApi.util;this.vo=new u(this),this.eventApi=new m(this),this.eventMap=this.bindPlayerEvents(),this.pingTimer=new r(I.pingInterval*1e3)}onNotify(t){t.target=void 0,this.aviaEvent=t;let e=this.services.avia.PlayerEvent;this.serviceApi.logger.enabled&&t.type!==e.CONTENT_PROGRESS&&this.logEvent(t);let a=this.eventMap[t.type];a&&a.call(this),this.serviceApi.hydra&&this.dispatch("PlayerUpdate",t)}logEvent(t){this.serviceApi.logger.debug("onNotify \u2192 "+t.type,t.detail)}bindPlayerEvents(){let t=this.services.avia.PlayerEvent;return{[t.READY]:()=>{this.dispatch("AviaJsReady")},[t.RESOURCE_START]:()=>{this.vo.setStartTime(this.aviaEvent.timeStamp),this.vo.hasResourceStart=!0,this.vo.hasResourceEnd=!1,this.onSessionStart()},[t.PLAYBACK_STARTED]:()=>{this.dispatch("PlaybackStarted")},[t.RESOURCE_END]:()=>{let e=this.aviaEvent.detail;this.vo.hasResourceStart=!1,this.vo.hasResourceEnd=!0,this.stopTimer(),e.interrupted&&this.dispatch("ResourceInterrupt"),this.isPlaylist||this.dispatch("SessionEnd")},[t.LIVE_PRESENTATION_STOPPED]:()=>{this.dispatch("LiveUiStopped")},[t.CDN_CHANGE]:()=>{let e=this.aviaEvent.detail;this.dispatch("CdnChange",{cdn:e.cdn||""})},[t.DRM_KEY_SYSTEM_CREATED]:()=>{let e=this.aviaEvent.detail;this.dispatch("DrmCreated",{drmType:e.keySystem||"none"})},[t.STREAM_ID_AVAILABLE]:()=>{let e=this.aviaEvent.detail;this.eventApi.updateData({streamId:e.streamId})},[t.CONTENT_DURATION_AVAILABLE]:()=>{if(!this.aviaEvent.detail)return;let e=this.aviaEvent.detail.contentDuration;e&&this.eventApi.updateData({duration:e})},[t.QUALITY_INFO_CHANGE]:this.onBitrateChange,[t.QUALITY_CHANGE]:this.onBitrateChange,[t.CONTENT_SEGMENT_START]:()=>{this.dispatch("ContentSegmentStart",this.vo.getChapterInfo())},[t.CONTENT_SEGMENT_END]:()=>{this.dispatch("ContentSegmentEnd"),this.vo.chapterOffset++},[t.CONTENT_START]:()=>{this.dispatch("ContentStart",this.vo.getContentInfo())},[t.CONTENT_PLAYING]:()=>{let{DateUtil:e}=this.serviceApi.util;if(this.vo.hasContentPause){this.vo.hasContentPause=!1;let i=e.getElapsedSince(this.vo.pauseTimestamp);this.dispatch("ContentResume",{pauseElapsed:i}),this.vo.pauseTimestamp=0}this.dispatch("ContentPlaying")},[t.CONTENT_COMPLETE]:()=>{this.dispatch("ContentEnd")},[t.METRIC]:()=>{let e=this.aviaEvent;if(e.detail.metric.key===this.vo.RESOURCE_ATTACHMENT_CHECK&&this.dispatch("ResourceReady",E({},this.player.resource)),!this.vo.hasResourceStart||!e.detail)return;let i=this.services.avia,a=e.detail.metric;if(!(a.type!==i.MetricType.API||this.player.isAd))switch(a.key){case i.ApiMetric.GO_LIVE:this.onGoLive();break;case i.ApiMetric.SEEK:this.vo.seekTimestamp=this.aviaEvent.timeStamp,this.onSeekStart();break;case i.ApiMetric.PAUSE:this.dispatch("ContentPause"),this.vo.pauseTimestamp=this.aviaEvent.timeStamp,this.vo.hasContentPause=!0,this.pingTimer&&this.startTimer();break}},[t.SEEK_COMPLETE]:()=>{let{DateUtil:e}=this.serviceApi.util;if(!this.vo.hasSeekStart)return;this.vo.hasSeekStart=!1;let i=e.getElapsedSince(this.vo.seekTimestamp);this.dispatch("SeekEnd",{seekElapsed:i}),this.vo.seekTimestamp=0},[t.AD_BREAK_METADATA]:()=>{this.vo.adPlayhead=0,this.vo.hasAdBreakStart=!0,this.dispatch("AdBreakStart",this.vo.getAdBreakInfo())},[t.AD_START]:()=>{!this.vo.hasAdBreakStart||(this.vo.adPlayhead=0,this.dispatch("AdStart",this.vo.getAdInfo()))},[t.AD_PAUSED]:()=>{!this.vo.hasAdBreakStart||(this.dispatch("AdPause"),this.vo.hasAdPause=!0,this.pingTimer&&this.startTimer())},[t.AD_FIRST_QUARTILE]:()=>{!this.vo.hasAdBreakStart||this.dispatch("AdFirstQuartile")},[t.AD_MIDPOINT]:()=>{!this.vo.hasAdBreakStart||this.dispatch("AdMidQuartile")},[t.AD_THIRD_QUARTILE]:()=>{!this.vo.hasAdBreakStart||this.dispatch("AdThirdQuartile")},[t.AD_PROGRESS]:()=>{if(!this.vo.hasAdBreakStart||!this.aviaEvent.detail)return;let e=Math.floor(this.aviaEvent.detail.currentTime);e>0&&this.vo.adPlayhead!==e&&(this.vo.adPlayhead=e,this.dispatch("AdProgress"),this.vo.isAdHeartbeat()&&this.dispatch("AdHeartbeat"),this.stopTimer())},[t.AD_SKIPPED]:()=>{!this.vo.hasAdBreakStart||this.dispatch("AdSkip")},[t.AD_STALLED]:()=>{!this.vo.hasAdBreakStart||this.dispatch("AdStalled")},[t.AD_COMPLETE]:()=>{!this.vo.hasAdBreakStart||this.dispatch("AdEnd")},[t.AD_BREAK_COMPLETE]:()=>{!this.vo.hasAdBreakStart||(this.vo.hasAdBreakStart=!1,this.dispatch("AdBreakEnd"))},[t.FULLSCREEN_CHANGE]:()=>{let e=this.aviaEvent.detail;this.vo.updatePlayerInfo(),this.eventApi.updateData({isFullscreen:!!e.fullscreen}),e.fullscreen?this.onPlayerState("stateStart","fullScreen"):this.onPlayerState("stateEnd","fullScreen")},[t.PRESENTATION_SIZE_CHANGE]:()=>{this.vo.updatePlayerInfo()},[t.MUTE_CHANGE]:()=>{let e=this.aviaEvent.detail;this.onPlayerState(e.muted?"stateStart":"stateEnd","mute")},[t.TEXT_TRACK_ENABLED_CHANGE]:()=>{let i=this.aviaEvent.detail.textTrackEnabled;this.onPlayerState(i?"stateStart":"stateEnd","closedCaptioning")},[t.ERROR]:()=>{let e=this.aviaEvent.detail.error,i=this.services.avia.ErrorCategory;switch(e.category){case i.AD:this.dispatch("AdError"),e.code.match(/4200||4201/)&&this.dispatch("DaiError"),e.fatal&&this.onError("FatalError",e);break;case i.PLAYBACK:case i.RESOURCE:case i.VIDEO_START:e.fatal&&this.onError("FatalError",e);break}},[t.METADATA_CUEPOINT]:()=>{let e=this.aviaEvent.detail;this.dispatch("CuePoint",{id3Info:e.cue})},[t.STREAM_METADATA]:()=>{let e=this.aviaEvent.detail;if(!(e&&e.fragment))return;let i=e.fragment.mimeType;!i&&e.manifest&&(i=e.manifest.mimeType),i&&this.dispatch("StreamMetadata",{srcMimeType:i})},[t.RESOURCE_BUFFERING]:()=>{let{DateUtil:e}=this.serviceApi.util;if(this.aviaEvent.detail.buffering)this.vo.bufferTimestamp=this.aviaEvent.timeStamp,this.dispatch("BufferStart");else{let a=e.getElapsedSince(this.vo.bufferTimestamp);this.dispatch("BufferEnd",{bufferElapsed:a}),this.vo.bufferTimestamp=0}},[t.CONTENT_PROGRESS]:()=>{this.vo.hasContentPause||(this.stopTimer(),this.dispatch("ContentProgress"),this.vo.isTimeUpdated()&&(this.dispatch("TimeUpdate",{aviaEvent:this.aviaEvent}),this.vo.isHeartbeat()&&this.dispatch("Heartbeat"),this.serviceApi.logger.enabled&&this.logEvent(this.aviaEvent)))},[t.PLAYBACK_STATE_CHANGE]:()=>{let e=this.aviaEvent.detail.playbackState,i=this.services.avia.PlaybackState;switch(e){case i.WAITING:this.dispatch("PlaybackStateWaiting");break;case i.PLAYING:this.vo.hasAdPause?(this.vo.hasAdPause=!1,this.dispatch("AdResume")):this.dispatch("PlaybackStatePlaying");break}},[t.QUALITY_CHANGE]:()=>{let e=this.aviaEvent.detail.quality,i=this.vo.getQualityInfo(e);this.dispatch("QualityChange",i)},[t.AD_CLICK]:()=>{this.dispatch("AdClick")},[t.AD_CUEPOINTS_AVAILABLE]:()=>{let e=this.aviaEvent.detail.adBreaks;this.dispatch("AdCuepointsAvailable",{adBreaks:e})}}}onSessionStart(){let t=this.vo.getSessionInfo();!t||(this.isPlaylist=!!t.isPlaylist,this.vo.updatePlayerInfo(),this.dispatch("SessionStart",t))}onPlayerState(t,e){!this.vo.hasResourceStart||(this.vo.playerState=e,this.vo.updatePlayerInfo(),this.dispatch("PlayerState",{playerState:{type:t,name:e}}))}onSeekStart(){this.vo.hasSeekStart=!0,this.dispatch("SeekStart"),this.vo.isDvr()&&!this.vo.isTimeShifted&&(this.onPlayerState("stateStart","timeShifted"),this.vo.isTimeShifted=!0)}onGoLive(){!this.vo.isTimeShifted||(this.onPlayerState("stateEnd","timeShifted"),this.vo.isTimeShifted=!1)}onBitrateChange(){this.dispatch("BitrateChange",{bitrate:this.player.bitrate})}onError(t,e){if(!(e&&e.code))return;let i=this.vo.getErrorInfo(e);this.dispatch(t,i)}startTimer(){if(this.pingTimer.running)return;let t=()=>{this.dispatch("PausedHeartbeat",{timerElapsed:this.pingTimer.elapsed})};this.pingTimer.start(t.bind(this))}stopTimer(){this.pingTimer&&this.pingTimer.running&&this.pingTimer.stop()}dispatch(t,e){let i=e||{},a=this.vo;i.playhead=a.getPlayhead(),i.adPlayhead=a.adPlayhead,i.utcPlayhead=this.player.liveStreamUtcTime,i.elapsedTime=a.getElapsedTime(),i.timestamp=this.aviaEvent.timeStamp,this.player.qualityInfo&&(i.bitrate=this.player.bitrate),i.isAd=this.player.isAd;let r=this.serviceApi.dataProxy.getData().isCTVAdPlaying;r&&(i.isAd=r),a.hasResourceStart&&(i.playerInfo=a.getPlayerInfo()),this.eventApi.post(t,i)}destroy(){this.stopTimer(),this.eventApi.destroy(),this.serviceApi.destroy(),this.vo=null,this.player=null,this.options=null,this.services=null,this.eventApi=null,this.eventMap=null,this.aviaEvent=null,this.serviceApi=null}},d=I;d.pingInterval=10;var p=class{constructor(t,e,i){this.player=t;this.options=e;this.services=i;this.version="1.0.0-16:13:29";this.notifyHandler=n=>this.onNotify(n);let a=this.services.avia.PlayerEvent;for(let n in a)this.player.on(a[n],this.notifyHandler);let r=window.vtg,o;r&&r.ts&&(o=r.ts.ServiceApi.getInstance(t.id),o.onRegister(e.config)),this.connector=new d(t,e,i,o)}static plugin(t){return{options:t,factory:p.create}}static create(t,e){return new p(t.player,e,t)}onNotify(t){this.connector.onNotify(t)}getId(){return p.NAME}destroy(){let t=this.services.avia.PlayerEvent;for(let e in t)this.player.off(t[e],this.notifyHandler);this.connector.destroy(),this.player=null,this.options=null,this.services=null,this.connector=null,this.notifyHandler=null}},h=p;h.NAME="AviaTracking";(s=>{s.ts=s.ts||{},s.ts.AviaTracking=h})(window.vtg||{});return P(M);})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function a(i,u,c){function f(e,t){if(!u[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(s)return s(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[e]={exports:{}};i[e][0].call(o.exports,function(t){return f(i[e][1][t]||t)},o,o.exports,a,i,u,c)}return u[e].exports}for(var s="function"==typeof require&&require,t=0;t<c.length;t++)f(c[t]);return f}({1:[function(t,wn,En){(function(On){(function(){function n(t,e){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var i=t[n];e(i,n,t)&&(a[o++]=i)}return a}function a(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function f(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function b(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function o(t,e,n){var r=t.length;for(n+=-1;++n<r;)if(e(t[n],n,t))return n;return-1}function i(t){return t!=t}function t(e){return function(t){return e(t)}}function h(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function e(e){var n=Object;return function(t){return e(n(t))}}function v(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function r(){}function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new s;++e<n;)this.add(t[e])}function g(t){this.size=(this.__data__=new c(t)).size}function l(t,e){var n=hn(t),r=!n&&bn(t),o=!n&&!r&&vn(t),a=!n&&!r&&!o&&_n(t);if(n=n||r||o||a){r=t.length;for(var i=String,u=-1,c=Array(r);++u<r;)c[u]=i(u);r=c}else r=[];var f;i=r.length;for(f in t)!e&&!be.call(t,f)||n&&("length"==f||o&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Q(f,i))||r.push(f);return r}function _(t,e,n){(n===Mt||ft(t[e],n))&&(n!==Mt||e in t)||j(t,e,n)}function y(t,e,n){var r=t[e];be.call(t,e)&&ft(r,n)&&(n!==Mt||e in t)||j(t,e,n)}function p(t,e){for(var n=t.length;n--;)if(ft(t[n][0],e))return n;return-1}function j(t,e,n){"__proto__"==e&&xe?xe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function m(n,r,o,t,e,a){var i,u=1&r,c=2&r,f=4&r;if(o&&(i=e?o(n,t,e,a):o(n)),i!==Mt)return i;if(!bt(n))return n;if(t=hn(n)){if(i=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&be.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(n),!u)return U(n,i)}else{var s=nn(n),l="[object Function]"==s||"[object GeneratorFunction]"==s;if(vn(n))return M(n,u);if("[object Object]"==s||"[object Arguments]"==s||l&&!e){if(i=c||l?{}:Y(n),!u)return c?function(t,e){return P(t,en(t),e)}(n,function(t,e){return t&&P(e,St(e),t)}(i,n)):function(t,e){return P(t,tn(t),e)}(n,function(t,e){return t&&P(e,Lt(e),t)}(i,n))}else{if(!Kt[s])return e?n:{};i=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return z(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return e=n?z(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return C(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return(e=new t.constructor(t.source,Ht.exec(t))).lastIndex=t.lastIndex,e;case"[object Set]":return new r;case"[object Symbol]":return qe?Object(qe.call(t)):{}}}(n,s,u)}}if(e=(a=a||new g).get(n))return e;if(a.set(n,i),gn(n))return n.forEach(function(t){i.add(m(t,r,o,t,n,a))}),i;if(dn(n))return n.forEach(function(t,e){i.set(e,m(t,r,o,e,n,a))}),i;c=f?c?B:H:c?St:Lt;var p=t?Mt:c(n);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}(p||n,function(t,e){p&&(t=n[e=t]),y(i,e,m(t,r,o,e,n,a))}),i}function A(t,e){for(var n=0,r=(e=F(e,t)).length;null!=t&&n<r;)t=t[nt(e[n++])];return n&&n==r?t:Mt}function O(t,e,n){return e=e(t),hn(t)?e:f(e,n(t))}function w(t){if(null==t)t=t===Mt?"[object Undefined]":"[object Null]";else if(Te&&Te in Object(t)){var e=be.call(t,Te),n=t[Te];try{t[Te]=Mt;var r=!0}catch(t){}var o=ve.call(t);r&&(e?t[Te]=n:delete t[Te]),t=o}else t=ve.call(t);return t}function E(t,e){return null!=t&&be.call(t,e)}function L(t,e){return null!=t&&e in Object(t)}function S(t){return ht(t)&&"[object Arguments]"==w(t)}function T(t,e,n,r,o){if(t===e)e=!0;else if(null==t||null==e||!ht(t)&&!ht(e))e=t!=t&&e!=e;else t:{var a,i,u=hn(t),c=hn(e),f="[object Object]"==(a="[object Arguments]"==(a=u?"[object Array]":nn(t))?"[object Object]":a);c="[object Object]"==(i="[object Arguments]"==(i=c?"[object Array]":nn(e))?"[object Object]":i);if((i=a==i)&&vn(t)){if(!vn(e)){e=!1;break t}f=!(u=!0)}if(i&&!f)o=o||new g,e=u||_n(t)?V(t,e,n,r,T,o):function(t,e,n,r,o,a,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!a(new me(t),new me(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ft(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=h;case"[object Set]":if(u=u||v,t.size!=e.size&&!(1&r))break;return(n=i.get(t))?n==e:(r|=2,i.set(t,e),e=V(u(t),u(e),r,o,a,i),i.delete(t),e);case"[object Symbol]":if(qe)return qe.call(t)==qe.call(e)}return!1}(t,e,a,n,r,T,o);else{if(!(1&n)&&(u=f&&be.call(t,"__wrapped__"),a=c&&be.call(e,"__wrapped__"),u||a)){e=T(t=u?t.value():t,e=a?e.value():e,n,r,o=o||new g);break t}if(i)e:if(o=o||new g,u=1&n,a=H(t),c=a.length,i=H(e).length,c==i||u){for(f=c;f--;){var s=a[f];if(!(u?s in e:be.call(e,s))){e=!1;break e}}if((i=o.get(t))&&o.get(e))e=i==e;else{i=!0,o.set(t,e),o.set(e,t);for(var l=u;++f<c;){var p=t[s=a[f]],y=e[s];if(r)var b=u?r(y,p,s,e,t,o):r(p,y,s,t,e,o);if(b===Mt?p!==y&&!T(p,y,n,r,o):!b){i=!1;break}l=l||"constructor"==s}i&&!l&&((n=t.constructor)!=(r=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(i=!1)),o.delete(t),o.delete(e),e=i}}else e=!1;else e=!1}}return e}function x(t){return"function"==typeof t?t:null==t?It:"object"==_typeof(t)?hn(t)?function(n,r){return X(n)&&r==r&&!bt(r)?tt(nt(n),r):function(t){var e=wt(t,n);return e===Mt&&e===r?Et(t,n):T(r,e,3)}}(t[0],t[1]):function(e){var n=function(t){for(var e=Lt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,o==o&&!bt(o)]}return e}(e);return 1==n.length&&n[0][2]?tt(n[0][0],n[0][1]):function(t){return t===e||function(t,e){var n=e.length,r=n;if(null==t)return!r;for(t=Object(t);n--;){if((o=e[n])[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<r;){var o,a=(o=e[n])[0],i=t[a],u=o[1];if(o[2]){if(i===Mt&&!(a in t))return!1}else if(o=new g,void 0!==Mt||!T(u,i,3,void 0,o))return!1}return!0}(t,n)}}(t):Nt(t)}function I(t){if(!Z(t))return Ne(t);var e,n=[];for(e in Object(t))be.call(t,e)&&"constructor"!=e&&n.push(e);return n}function k(s,l,p,y,b){s!==l&&Xe(l,function(t,e){if(bt(t)){var n=b=b||new g,r="__proto__"==e?Mt:s[e],o="__proto__"==e?Mt:l[e];if(f=n.get(o))_(s,e,f);else{var a=(f=y?y(r,o,e+"",s,l,n):Mt)===Mt;if(a){var i=hn(o),u=!i&&vn(o),c=!i&&!u&&_n(o),f=o;i||u||c?f=hn(r)?r:lt(r)?U(r):u?M(o,!(a=!1)):c?C(o,!(a=!1)):[]:vt(o)||bn(o)?bn(f=r)?f=At(r):(!bt(r)||p&&pt(r))&&(f=Y(o)):a=!1}a&&(n.set(o,f),k(f,o,p,y,n),n.delete(o)),_(s,e,f)}}else(n=y?y("__proto__"==e?Mt:s[e],t,e+"",s,l,b):Mt)===Mt&&(n=t),_(s,e,n)},St)}function N(t){if("string"==typeof t)return t;if(hn(t))return a(t,N)+"";if(gt(t))return Je?Je.call(t):"";var e=t+"";return"0"==e&&1/t==-zt?"-0":e}function D(t,e){var n;if((e=F(e,t)).length<2)n=t;else{var r=0,o=-1,a=-1,i=(n=e).length;for(r<0&&(r=i<-r?0:i+r),(o=i<o?i:o)<0&&(o+=i),i=o<r?0:o-r>>>0,r>>>=0,o=Array(i);++a<i;)o[a]=n[a+r];n=A(t,o)}null==(t=n)||delete t[nt(it(e))]}function F(t,e){return hn(t)?t:X(t,e)?[t]:ln(Ot(t))}function M(t,e){if(e)return t.slice();var n=t.length;n=Ae?Ae(n):new t.constructor(n);return t.copy(n),n}function z(t){var e=new t.constructor(t.byteLength);return new me(e).set(new me(t)),e}function C(t,e){return new t.constructor(e?z(t.buffer):t.buffer,t.byteOffset,t.length)}function U(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}function P(t,e,n){var r=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var i=e[o],u=Mt;u===Mt&&(u=t[i]),r?j(n,i,u):y(n,i,u)}return n}function R(f){return function(t){return sn(et(t,void 0,It),t+"")}(function(t,e){var n,r=-1,o=e.length,a=1<o?e[o-1]:Mt,i=2<o?e[2]:Mt;a=3<f.length&&"function"==typeof a?(o--,a):Mt;if(n=i){n=e[0];var u=e[1];if(bt(i)){var c=_typeof(u);n=!!("number"==c?st(i)&&Q(u,i.length):"string"==c&&u in i)&&ft(i[u],n)}else n=!1}for(n&&(a=o<3?Mt:a,o=1),t=Object(t);++r<o;)(i=e[r])&&f(t,i,r,a);return t})}function $(t){return vt(t)?Mt:t}function V(t,e,n,r,o,a){var i=1&n,u=t.length;if(u!=(c=e.length)&&!(i&&u<c))return!1;if((c=a.get(t))&&a.get(e))return c==e;var c=-1,f=!0,s=2&n?new d:Mt;for(a.set(t,e),a.set(e,t);++c<u;){var l=t[c],p=e[c];if(r)var y=i?r(p,l,c,e,t,a):r(l,p,c,t,e,a);if(y!==Mt){if(y)continue;f=!1;break}if(s){if(!b(e,function(t,e){if(!s.has(e)&&(l===t||o(l,t,n,r,a)))return s.push(e)})){f=!1;break}}else if(l!==p&&!o(l,p,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function H(t){return O(t,Lt,tn)}function B(t){return O(t,St,en)}function W(t,e){var n=(n=r.iteratee||kt)===kt?x:n;return arguments.length?n(t,e):n}function G(t,e){var n=t.__data__,r=_typeof(e);return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function q(t,e){var n=null==t?Mt:t[e];return!bt(n)||he&&he in n||!(pt(n)?ge:Gt).test(rt(n))?Mt:n}function J(t,e,n){for(var r=-1,o=(e=F(e,t)).length,a=!1;++r<o;){var i=nt(e[r]);if(!(a=null!=t&&n(t,i)))break;t=t[i]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&yt(o)&&Q(i,o)&&(hn(t)||bn(t))}function Y(t){return"function"!=typeof t.constructor||Z(t)?{}:Ye(Oe(t))}function K(t){return hn(t)||bn(t)||!!(Se&&t&&t[Se])}function Q(t,e){var n=_typeof(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Jt.test(t))&&-1<t&&0==t%1&&t<e}function X(t,e){if(hn(t))return!1;var n=_typeof(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!gt(t))||Pt.test(t)||!Ut.test(t)||null!=e&&t in Object(e)}function Z(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||le)}function tt(e,n){return function(t){return null!=t&&t[e]===n&&(n!==Mt||e in Object(t))}}function et(o,a,i){return a=De(a===Mt?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=De(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];for(e=-1,n=Array(a+1);++e<a;)n[e]=t[e];return n[a]=i(r),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(o,this,n)}}function nt(t){if("string"==typeof t||gt(t))return t;var e=t+"";return"0"==e&&1/t==-zt?"-0":e}function rt(t){if(null==t)return"";try{return ye.call(t)}catch(t){}return t+""}function ot(t,e,n){var r=null==t?0:t.length;return r?((n=null==n?0:jt(n))<0&&(n=De(r+n,0)),o(t,W(e,3),n)):-1}function at(t){return null!=t&&t.length?function t(e,n,r,o,a){var i=-1,u=e.length;for(r=r||K,a=a||[];++i<u;){var c=e[i];0<n&&r(c)?1<n?t(c,n-1,r,o,a):f(a,c):o||(a[a.length]=c)}return a}(t,1):[]}function it(t){var e=null==t?0:t.length;return e?t[e-1]:Mt}function ut(r,o){function a(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),a.cache=n.set(e,t)||n,t)}if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");return a.cache=new(ut.Cache||s),a}function ct(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ft(t,e){return t===e||t!=t&&e!=e}function st(t){return null!=t&&yt(t.length)&&!pt(t)}function lt(t){return ht(t)&&st(t)}function pt(t){return!!bt(t)&&("[object Function]"==(t=w(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}function yt(t){return"number"==typeof t&&-1<t&&0==t%1&&t<=9007199254740991}function bt(t){var e=_typeof(t);return null!=t&&("object"==e||"function"==e)}function ht(t){return null!=t&&"object"==_typeof(t)}function vt(t){return!(!ht(t)||"[object Object]"!=w(t))&&(null===(t=Oe(t))||"function"==typeof(t=be.call(t,"constructor")&&t.constructor)&&t instanceof t&&ye.call(t)==de)}function dt(t){return"string"==typeof t||!hn(t)&&ht(t)&&"[object String]"==w(t)}function gt(t){return"symbol"==_typeof(t)||ht(t)&&"[object Symbol]"==w(t)}function _t(t){return t?(t=mt(t))===zt||t===-zt?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function jt(t){var e=(t=_t(t))%1;return t==t?e?t-e:t:0}function mt(t){if("number"==typeof t)return t;if(gt(t))return Ct;if(bt(t)&&(t=bt(t="function"==typeof t.valueOf?t.valueOf():t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace($t,"");var e=Wt.test(t);return e||qt.test(t)?Xt(t.slice(2),e?2:8):Bt.test(t)?Ct:+t}function At(t){return P(t,St(t))}function Ot(t){return null==t?"":N(t)}function wt(t,e,n){return(t=null==t?Mt:A(t,e))===Mt?n:t}function Et(t,e){return null!=t&&J(t,e,L)}function Lt(t){return st(t)?l(t):I(t)}function St(t){if(st(t))t=l(t,!0);else if(bt(t)){var e,n=Z(t),r=[];for(e in t)("constructor"!=e||!n&&be.call(t,e))&&r.push(e);t=r}else{if(e=[],null!=t)for(n in Object(t))e.push(n);t=e}return t}function Tt(t){return null==t?[]:function(e,t){return a(t,function(t){return e[t]})}(t,Lt(t))}function xt(t){return function(){return t}}function It(t){return t}function kt(t){return x("function"==typeof t?t:m(t,1))}function Nt(t){return X(t)?function(e){return function(t){return null==t?Mt:t[e]}}(nt(t)):function(e){return function(t){return A(t,e)}}(t)}function Dt(){return[]}function Ft(){return!1}var Mt,zt=1/0,Ct=NaN,Ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pt=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$t=/^\s+|\s+$/g,Vt=/\\(\\)?/g,Ht=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Wt=/^0b[01]+$/i,Gt=/^\[object .+?Constructor\]$/,qt=/^0o[0-7]+$/i,Jt=/^(?:0|[1-9]\d*)$/,Yt={};Yt["[object Float32Array]"]=Yt["[object Float64Array]"]=Yt["[object Int8Array]"]=Yt["[object Int16Array]"]=Yt["[object Int32Array]"]=Yt["[object Uint8Array]"]=Yt["[object Uint8ClampedArray]"]=Yt["[object Uint16Array]"]=Yt["[object Uint32Array]"]=!0,Yt["[object Arguments]"]=Yt["[object Array]"]=Yt["[object ArrayBuffer]"]=Yt["[object Boolean]"]=Yt["[object DataView]"]=Yt["[object Date]"]=Yt["[object Error]"]=Yt["[object Function]"]=Yt["[object Map]"]=Yt["[object Number]"]=Yt["[object Object]"]=Yt["[object RegExp]"]=Yt["[object Set]"]=Yt["[object String]"]=Yt["[object WeakMap]"]=!1;var Kt={};Kt["[object Arguments]"]=Kt["[object Array]"]=Kt["[object ArrayBuffer]"]=Kt["[object DataView]"]=Kt["[object Boolean]"]=Kt["[object Date]"]=Kt["[object Float32Array]"]=Kt["[object Float64Array]"]=Kt["[object Int8Array]"]=Kt["[object Int16Array]"]=Kt["[object Int32Array]"]=Kt["[object Map]"]=Kt["[object Number]"]=Kt["[object Object]"]=Kt["[object RegExp]"]=Kt["[object Set]"]=Kt["[object String]"]=Kt["[object Symbol]"]=Kt["[object Uint8Array]"]=Kt["[object Uint8ClampedArray]"]=Kt["[object Uint16Array]"]=Kt["[object Uint32Array]"]=!0,Kt["[object Error]"]=Kt["[object Function]"]=Kt["[object WeakMap]"]=!1;var Qt,Xt=parseInt,Zt="object"==_typeof(On)&&On&&On.Object===Object&&On,te="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,ee=Zt||te||Function("return this")(),ne="object"==_typeof(En)&&En&&!En.nodeType&&En,re=ne&&"object"==_typeof(wn)&&wn&&!wn.nodeType&&wn,oe=re&&re.exports===ne,ae=oe&&Zt.process;t:{try{Qt=ae&&ae.binding&&ae.binding("util");break t}catch(t){}Qt=void 0}var ie,ue=Qt&&Qt.isMap,ce=Qt&&Qt.isSet,fe=Qt&&Qt.isTypedArray,se=Array.prototype,le=Object.prototype,pe=ee["__core-js_shared__"],ye=Function.prototype.toString,be=le.hasOwnProperty,he=(ie=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"",ve=le.toString,de=ye.call(Object),ge=RegExp("^"+ye.call(be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=oe?ee.Buffer:Mt,je=ee.Symbol,me=ee.Uint8Array,Ae=_e?_e.a:Mt,Oe=e(Object.getPrototypeOf),we=Object.create,Ee=le.propertyIsEnumerable,Le=se.splice,Se=je?je.isConcatSpreadable:Mt,Te=je?je.toStringTag:Mt,xe=function(){try{var t=q(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ie=Object.getOwnPropertySymbols,ke=_e?_e.isBuffer:Mt,Ne=e(Object.keys),De=Math.max,Fe=Date.now,Me=q(ee,"DataView"),ze=q(ee,"Map"),Ce=q(ee,"Promise"),Ue=q(ee,"Set"),Pe=q(ee,"WeakMap"),Re=q(Object,"create"),$e=rt(Me),Ve=rt(ze),He=rt(Ce),Be=rt(Ue),We=rt(Pe),Ge=je?je.prototype:Mt,qe=Ge?Ge.valueOf:Mt,Je=Ge?Ge.toString:Mt,Ye=function(t){return bt(t)?we?we(t):(Ke.prototype=t,t=new Ke,Ke.prototype=Mt,t):{}};function Ke(){}u.prototype.clear=function(){this.__data__=Re?Re(null):{},this.size=0},u.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},u.prototype.get=function(t){var e=this.__data__;return Re?"__lodash_hash_undefined__"===(t=e[t])?Mt:t:be.call(e,t)?e[t]:Mt},u.prototype.has=function(t){var e=this.__data__;return Re?e[t]!==Mt:be.call(e,t)},u.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Re&&e===Mt?"__lodash_hash_undefined__":e,this},c.prototype.clear=function(){this.__data__=[],this.size=0},c.prototype.delete=function(t){var e=this.__data__;return!((t=p(e,t))<0||(t==e.length-1?e.pop():Le.call(e,t,1),--this.size,0))},c.prototype.get=function(t){var e=this.__data__;return(t=p(e,t))<0?Mt:e[t][1]},c.prototype.has=function(t){return-1<p(this.__data__,t)},c.prototype.set=function(t,e){var n=this.__data__,r=p(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},s.prototype.clear=function(){this.size=0,this.__data__={hash:new u,map:new(ze||c),string:new u}},s.prototype.delete=function(t){return t=G(this,t).delete(t),this.size-=t?1:0,t},s.prototype.get=function(t){return G(this,t).get(t)},s.prototype.has=function(t){return G(this,t).has(t)},s.prototype.set=function(t,e){var n=G(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},d.prototype.add=d.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},d.prototype.has=function(t){return this.__data__.has(t)},g.prototype.clear=function(){this.__data__=new c,this.size=0},g.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},g.prototype.get=function(t){return this.__data__.get(t)},g.prototype.has=function(t){return this.__data__.has(t)},g.prototype.set=function(t,e){var n=this.__data__;if(n instanceof c){var r=n.__data__;if(!ze||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new s(r)}return n.set(t,e),this.size=n.size,this};var Qe=function(t,e){if(null==t)return t;if(!st(t))return function(t,e){return t&&Xe(t,e,Lt)}(t,e);for(var n=t.length,r=-1,o=Object(t);++r<n&&!1!==e(o[r],r,o););return t},Xe=function(t,e,n){for(var r=-1,o=Object(t),a=(n=n(t)).length;a--;){var i=n[++r];if(!1===e(o[i],i,o))break}return t},Ze=xe?function(t,e){return xe(t,"toString",{configurable:!0,enumerable:!1,value:xt(e),writable:!0})}:It,tn=Ie?function(e){return null==e?[]:(e=Object(e),n(Ie(e),function(t){return Ee.call(e,t)}))}:Dt,en=Ie?function(t){for(var e=[];t;)f(e,tn(t)),t=Oe(t);return e}:Dt,nn=w;(Me&&"[object DataView]"!=nn(new Me(new ArrayBuffer(1)))||ze&&"[object Map]"!=nn(new ze)||Ce&&"[object Promise]"!=nn(Ce.resolve())||Ue&&"[object Set]"!=nn(new Ue)||Pe&&"[object WeakMap]"!=nn(new Pe))&&(nn=function(t){var e=w(t);if(t=(t="[object Object]"==e?t.constructor:Mt)?rt(t):"")switch(t){case $e:return"[object DataView]";case Ve:return"[object Map]";case He:return"[object Promise]";case Be:return"[object Set]";case We:return"[object WeakMap]"}return e});var rn,on,an,un,cn,fn,sn=(un=Ze,fn=cn=0,function(){var t=Fe(),e=16-(t-fn);if(fn=t,0<e){if(800<=++cn)return arguments[0]}else cn=0;return un.apply(Mt,arguments)}),ln=(an=(on=ut(on=function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(Rt,function(t,e,n,r){o.push(n?r.replace(Vt,"$1"):e||t)}),o},function(t){return 500===an.size&&an.clear(),t})).cache,on),pn=(rn=ot,function(t,e,n){var r=Object(t);if(!st(t)){var o=W(e,3);t=Lt(t),e=function(t){return o(r[t],t,r)}}return-1<(e=rn(t,e,n))?r[o?t[e]:e]:Mt});ut.Cache=s;var yn,bn=S(function(){return arguments}())?S:function(t){return ht(t)&&be.call(t,"callee")&&!Ee.call(t,"callee")},hn=Array.isArray,vn=ke||Ft,dn=ue?t(ue):function(t){return ht(t)&&"[object Map]"==nn(t)},gn=ce?t(ce):function(t){return ht(t)&&"[object Set]"==nn(t)},_n=fe?t(fe):function(t){return ht(t)&&yt(t.length)&&!!Yt[w(t)]},jn=R(function(t,e,n){k(t,e,n)}),mn=R(function(t,e,n,r){k(t,e,n,r)}),An=sn(et(yn=function(e,t){var n={};if(null==e)return n;var r=!1;t=a(t,function(t){return t=F(t,e),r=r||1<t.length,t}),P(e,B(e),n),r&&(n=m(n,7,$));for(var o=t.length;o--;)D(n,t[o]);return n},Mt,at),yn+"");r.constant=xt,r.flatten=at,r.iteratee=kt,r.keys=Lt,r.keysIn=St,r.memoize=ut,r.merge=jn,r.mergeWith=mn,r.negate=ct,r.omit=An,r.property=Nt,r.reject=function(t,e){return(hn(t)?n:function(t,r){var o=[];return Qe(t,function(t,e,n){r(t,e,n)&&o.push(t)}),o})(t,ct(W(e,3)))},r.toPlainObject=At,r.values=Tt,r.cloneDeep=function(t){return m(t,5)},r.cloneDeepWith=function(t,e){return m(t,5,e="function"==typeof e?e:Mt)},r.eq=ft,r.find=pn,r.findIndex=ot,r.get=wt,r.has=function(t,e){return null!=t&&J(t,e,E)},r.hasIn=Et,r.identity=It,r.includes=function(t,e,n,r){if(t=st(t)?t:Tt(t),n=n&&!r?jt(n):0,r=t.length,n<0&&(n=De(r+n,0)),dt(t))t=n<=r&&-1<t.indexOf(e,n);else{if(r=!!r){if(e==e)t:{for(n-=1,r=t.length;++n<r;)if(t[n]===e){t=n;break t}t=-1}else t=o(t,i,n);r=-1<t}t=r}return t},r.isArguments=bn,r.isArray=hn,r.isArrayLike=st,r.isArrayLikeObject=lt,r.isBuffer=vn,r.isEmpty=function(t){if(null==t)return!0;if(st(t)&&(hn(t)||"string"==typeof t||"function"==typeof t.splice||vn(t)||_n(t)||bn(t)))return!t.length;var e=nn(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(Z(t))return!I(t).length;for(var n in t)if(be.call(t,n))return!1;return!0},r.isEqual=function(t,e){return T(t,e)},r.isFunction=pt,r.isLength=yt,r.isMap=dn,r.isNull=function(t){return null===t},r.isObject=bt,r.isObjectLike=ht,r.isPlainObject=vt,r.isSet=gn,r.isString=dt,r.isSymbol=gt,r.isTypedArray=_n,r.last=it,r.stubArray=Dt,r.stubFalse=Ft,r.toFinite=_t,r.toInteger=jt,r.toNumber=mt,r.toString=Ot,r.VERSION="4.17.5",re&&((re.exports=r)._=r,ne._=r)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){e.exports={itemType:{DATA:"data",FCTN:"fctn",EVENT:"event",LISTENER_ON:"listenerOn",LISTENER_OFF:"listenerOff"},dataLayerEvent:{CHANGE:"adobeDataLayer:change",EVENT:"adobeDataLayer:event"},listenerScope:{PAST:"past",FUTURE:"future",ALL:"all"}}},{}],3:[function(t,e,n){var r=t("../custom-lodash"),c=t("../version.json").version,l=r.cloneDeep,p=r.get,y=t("./item"),b=t("./listener"),h=t("./listenerManager"),v=t("./constants"),d=t("./utils/customMerge");e.exports=function(t){var f,e=t||{},n=[],r=[],o={},a={getState:function(){return o},getDataLayer:function(){return n}};function i(t){o=d(o,t.data)}function u(t){t.valid?{data:function(t){i(t),f.triggerListeners(t)},fctn:function(t){t.config.call(n,n)},event:function(t){t.data&&i(t),f.triggerListeners(t)},listenerOn:function(t){var e=b(t);switch(e.scope){case v.listenerScope.PAST:var n,r=_createForOfIteratorHelper(c(t));try{for(r.s();!(n=r.n()).done;){var o=n.value;f.triggerListener(e,o)}}catch(t){r.e(t)}finally{r.f()}break;case v.listenerScope.FUTURE:f.register(e);break;case v.listenerScope.ALL:if(f.register(e)){var a,i=_createForOfIteratorHelper(c(t));try{for(i.s();!(a=i.n()).done;){var u=a.value;f.triggerListener(e,u)}}catch(t){i.e(t)}finally{i.f()}}}},listenerOff:function(t){f.unregister(b(t))}}[t.type](t):s(t);function c(t){return 0===n.length||t.index>n.length-1?[]:n.slice(0,t.index).map(function(t){return y(t)})}}function s(t){var e="The following item cannot be handled by the data layer because it does not have a valid format: "+JSON.stringify(t.config);console.error(e)}return function(){Array.isArray(e.dataLayer)||(e.dataLayer=[]);r=e.dataLayer.splice(0,e.dataLayer.length),(n=e.dataLayer).version=c,o={},f=h(a)}(),n.push=function(t){var n=arguments,r=arguments;if(Object.keys(n).forEach(function(t){var e=y(n[t]);switch(e.valid||(s(e),delete r[t]),e.type){case v.itemType.DATA:case v.itemType.EVENT:u(e);break;case v.itemType.FCTN:delete r[t],u(e);break;case v.itemType.LISTENER_ON:case v.itemType.LISTENER_OFF:delete r[t]}}),r[0])return Array.prototype.push.apply(this,r)},n.getState=function(t){return t?p(l(o),t):l(o)},n.addEventListener=function(t,e,n){u(y({on:t,handler:e,scope:n&&n.scope,path:n&&n.path}))},n.removeEventListener=function(t,e){u(y({off:t,handler:e}))},function(){for(var t=0;t<r.length;t++)n.push(r[t])}(),a}},{"../custom-lodash":1,"../version.json":14,"./constants":2,"./item":5,"./listener":7,"./listenerManager":8,"./utils/customMerge":10}],4:[function(t,e,n){var r={Manager:t("./dataLayerManager")};window.adobeDataLayer=window.adobeDataLayer||[],window.adobeDataLayer.version?console.warn("Adobe Client Data Layer v".concat(window.adobeDataLayer.version," has already been imported/initialized on this page. You may be erroneously loading it a second time.")):r.Manager({dataLayer:window.adobeDataLayer}),e.exports=r},{"./dataLayerManager":3}],5:[function(t,e,n){var r=t("../custom-lodash"),i=r.isPlainObject,u=r.isEmpty,c=r.omit,f=r.find,s=t("./utils/dataMatchesContraints"),l=t("./itemConstraints"),p=t("./constants");e.exports=function(t,e){var n=t,r=e,o=f(Object.keys(l),function(t){return s(n,l[t])})||"function"==typeof n&&p.itemType.FCTN||i(n)&&p.itemType.DATA,a=function(){var t=c(n,Object.keys(l.event));if(!u(t))return t}();return{config:n,type:o,data:a,valid:!!o,index:r}}},{"../custom-lodash":1,"./constants":2,"./itemConstraints":6,"./utils/dataMatchesContraints":11}],6:[function(t,e,n){e.exports={event:{event:{type:"string"},eventInfo:{optional:!0}},listenerOn:{on:{type:"string"},handler:{type:"function"},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}},listenerOff:{off:{type:"string"},handler:{type:"function",optional:!0},scope:{type:"string",values:["past","future","all"],optional:!0},path:{type:"string",optional:!0}}}},{}],7:[function(t,e,n){var r=t("./constants");e.exports=function(t){return{event:t.config.on||t.config.off,handler:t.config.handler||null,scope:t.config.scope||t.config.on&&r.listenerScope.ALL||null,path:t.config.path||null}}},{"./constants":2}],8:[function(t,e,n){var u=t("../custom-lodash").cloneDeep,c=t("./constants"),f=t("./utils/listenerMatch"),s=t("./utils/indexOfListener");e.exports=function(t){var o={},r=t,a=s.bind(null,o);function i(t,e){if(f(t,e)){var n=[u(e.config)];t.handler.apply(r.getDataLayer(),n)}}return{register:function(t){var e=t.event;return Object.prototype.hasOwnProperty.call(o,e)?-1===a(t)&&(o[t.event].push(t),!0):(o[t.event]=[t],!0)},unregister:function(t){var e=t.event;if(Object.prototype.hasOwnProperty.call(o,e))if(t.handler||t.scope||t.path){var n=a(t);-1<n&&o[e].splice(n,1)}else o[e]=[]},triggerListeners:function(r){(function(t){var e=[];switch(t.type){case c.itemType.DATA:e.push(c.dataLayerEvent.CHANGE);break;case c.itemType.EVENT:e.push(c.dataLayerEvent.EVENT),t.data&&e.push(c.dataLayerEvent.CHANGE),t.config.event!==c.dataLayerEvent.CHANGE&&e.push(t.config.event)}return e})(r).forEach(function(t){if(Object.prototype.hasOwnProperty.call(o,t)){var e,n=_createForOfIteratorHelper(o[t]);try{for(n.s();!(e=n.n()).done;){i(e.value,r)}}catch(t){n.e(t)}finally{n.f()}}})},triggerListener:function(t,e){i(t,e)}}}},{"../custom-lodash":1,"./constants":2,"./utils/indexOfListener":12,"./utils/listenerMatch":13}],9:[function(t,e,n){var r=t("../../custom-lodash"),o=r.has,a=r.get;e.exports=function(t,e){for(var n=e.substring(0,e.lastIndexOf("."));n;){if(o(t,n)){var r=a(t,n);if(null==r)return!0}n=n.substring(0,n.lastIndexOf("."))}return!1}},{"../../custom-lodash":1}],10:[function(t,e,n){var r=t("../../custom-lodash"),s=r.cloneDeepWith,l=r.isObject,p=r.isArray,y=r.reject,o=r.mergeWith,a=r.isNull;e.exports=function(t,e){return o(t,e,function(t,e,n,r){if(null==e)return null}),t=function(t,e){return s(t,function(f){return function e(t,n,r,o){if(l(t)){if(p(t))return y(t,f).map(function(t){return s(t,e)});for(var a={},i=0,u=Object.keys(t);i<u.length;i++){var c=u[i];f(t[c])||(a[c]=s(t[c],e))}return a}}}(1<arguments.length&&void 0!==e?e:function(t){return!t}))}(t,a)}},{"../../custom-lodash":1}],11:[function(t,e,n){var r=t("../../custom-lodash"),o=r.find,s=r.includes;e.exports=function(c,f){return void 0===o(Object.keys(f),function(t){var e=f[t].type,n=t&&f[t].values,r=!f[t].optional,o=c[t],a=_typeof(o),i=e&&a!==e,u=n&&!s(n,o);return r?!o||i||u:o&&(i||u)})}},{"../../custom-lodash":1}],12:[function(t,e,n){var c=t("../../custom-lodash").isEqual;e.exports=function(t,e){var n=e.event;if(Object.prototype.hasOwnProperty.call(t,n)){var r,o=_createForOfIteratorHelper(t[n].entries());try{for(o.s();!(r=o.n()).done;){var a=_slicedToArray(r.value,2),i=a[0],u=a[1];if(c(u.handler,e.handler))return i}}catch(t){o.e(t)}finally{o.f()}}return-1}},{"../../custom-lodash":1}],13:[function(t,e,n){var r=t("../../custom-lodash").has,a=t("../constants"),o=t("./ancestorRemoved");function i(t,e){return!e.data||!t.path||(r(e.data,t.path)||o(e.data,t.path))}e.exports=function(t,e){var n=t.event,r=e.config,o=!1;return e.type===a.itemType.DATA?n===a.dataLayerEvent.CHANGE&&(o=i(t,e)):e.type===a.itemType.EVENT&&(n!==a.dataLayerEvent.EVENT&&n!==r.event||(o=i(t,e)),e.data&&n===a.dataLayerEvent.CHANGE&&(o=i(t,e))),o}},{"../../custom-lodash":1,"../constants":2,"./ancestorRemoved":9}],14:[function(t,e,n){e.exports={version:"2.0.2"}},{}]},{},[4]);}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{(function(){'use strict';var f=/\[object (Boolean|Number|String|Function|Array|Date|RegExp|Arguments)\]/;function g(a){return null==a?String(a):(a=f.exec(Object.prototype.toString.call(Object(a))))?a[1].toLowerCase():"object"}function m(a,b){return Object.prototype.hasOwnProperty.call(Object(a),b)}function n(a){if(!a||"object"!=g(a)||a.nodeType||a==a.window)return!1;try{if(a.constructor&&!m(a,"constructor")&&!m(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var b in a);return void 0===b||m(a,b)};function p(a,b){var c={},d=c;a=a.split(".");for(var e=0;e<a.length-1;e++)d=d[a[e]]={};d[a[a.length-1]]=b;return c}function q(a,b){var c=!a._clear,d;for(d in a)if(m(a,d)){var e=a[d];"array"===g(e)&&c?("array"===g(b[d])||(b[d]=[]),q(e,b[d])):n(e)&&c?(n(b[d])||(b[d]={}),q(e,b[d])):b[d]=e}delete b._clear};function r(a,b,c){b=void 0===b?{}:b;"function"===typeof b?b={listener:b,listenToPast:void 0===c?!1:c,processNow:!0,commandProcessors:{}}:b={listener:b.listener||function(){},listenToPast:b.listenToPast||!1,processNow:void 0===b.processNow?!0:b.processNow,commandProcessors:b.commandProcessors||{}};this.a=a;this.l=b.listener;this.j=b.listenToPast;this.g=this.i=!1;this.c={};this.f=[];this.b=b.commandProcessors;this.h=u(this);var d=this.a.push,e=this;this.a.push=function(){var k=[].slice.call(arguments,0),l=d.apply(e.a,k);v(e,k);return l};b.processNow&&this.process()}r.prototype.process=function(){this.registerProcessor("set",function(){var c={};1===arguments.length&&"object"===g(arguments[0])?c=arguments[0]:2===arguments.length&&"string"===g(arguments[0])&&(c=p(arguments[0],arguments[1]));return c});this.i=!0;for(var a=this.a.length,b=0;b<a;b++)v(this,[this.a[b]],!this.j)};r.prototype.get=function(a){var b=this.c;a=a.split(".");for(var c=0;c<a.length;c++){if(void 0===b[a[c]])return;b=b[a[c]]}return b};r.prototype.flatten=function(){this.a.splice(0,this.a.length);this.a[0]={};q(this.c,this.a[0])};r.prototype.registerProcessor=function(a,b){a in this.b||(this.b[a]=[]);this.b[a].push(b)};function v(a,b,c){c=void 0===c?!1:c;if(a.i&&(a.f.push.apply(a.f,b),!a.g))for(;0<a.f.length;){b=a.f.shift();if("array"===g(b))a:{var d=a.c;g(b[0]);for(var e=b[0].split("."),k=e.pop(),l=b.slice(1),h=0;h<e.length;h++){if(void 0===d[e[h]])break a;d=d[e[h]]}try{d[k].apply(d,l)}catch(w){}}else if("arguments"===g(b)){e=a;k=[];l=b[0];if(e.b[l])for(d=e.b[l].length,h=0;h<d;h++)k.push(e.b[l][h].apply(e.h,[].slice.call(b,1)));a.f.push.apply(a.f,k)}else if("function"==typeof b)try{b.call(a.h)}catch(w){}else if(n(b))for(var t in b)q(p(t,b[t]),a.c);else continue;c||(a.g=!0,a.l(a.c,b),a.g=!1)}}r.prototype.registerProcessor=r.prototype.registerProcessor;r.prototype.flatten=r.prototype.flatten;r.prototype.get=r.prototype.get;r.prototype.process=r.prototype.process;window.DataLayerHelper=r;function u(a){return{set:function(b,c){q(p(b,c),a.c)},get:function(b){return a.get(b)}}};})();}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(!utag_condload){try{try{window.adobeDataLayer=window.adobeDataLayer||[];var stateHandler=function(event){if(event){var data={"event":"stateUpdate"};data.pageName=event.eventInfo.contextData.pageName;delete event.eventInfo.contextData.pageName;data.contextData=event.eventInfo.contextData;window.adobeDataLayer.push(data);var payload={"pageName":data.pageName};payload.contextData=adobeDataLayer.getState("contextData");var platform=window.utag&&window.utag.data?window.utag.data.ts_platformID:"unknown-platform"
payload.contextData["v.tealiumPlatformID"]=platform+"|"+window.location.hostname+window.location.pathname;}};var actionHandler=function(event){if(event){var data={"event":"stateUpdate"};data.contextData=event.eventInfo.contextData;window.adobeDataLayer.push(data);var payload={"linkType":"o"};payload.linkName=event.eventType;payload.contextData=adobeDataLayer.getState("contextData");payload.contextData.v.activity="actionCall";window.vtg.ts.track(vtg.ts.Event.AdobeData,payload);}};var mediaHandler=function(event){if(event&&event.eventType){switch(event.eventType){case"sessionStart":var data={"event":"stateUpdate"};data.contextData=event.eventInfo.contextData;window.adobeDataLayer.push(data);break;case"chapterStart":var data={"event":"stateUpdate"};data.contextData=event.eventInfo.contextData;data.contextData.v.activity="chapterStart";window.adobeDataLayer.push(data);window.vtg.ts.track(vtg.ts.Event.ChapterStart,{"playerId":event.eventInfo.playerId,"chapterIndex":event.eventInfo.chapterIndex,"chapterOffset":event.eventInfo.chapterOffset,"chapterLength":event.eventInfo.chapterLength});break;case"chapterComplete":window.vtg.ts.track(vtg.ts.Event.ChapterComplete,{"playerId":event.eventInfo.playerId});break;case"audioTrackChange":case"subtitleTrackChange":var data={"event":"stateUpdate"};data.contextData=event.eventInfo.contextData;window.adobeDataLayer.push(data);break;default:console.log("Default MCAPI event");}}};window.adobeDataLayer.push(function(dl){dl.addEventListener("action",actionHandler)},function(dl){dl.addEventListener("pageview",stateHandler)},function(dl){dl.addEventListener("media",mediaHandler)});}catch(e){console.log(e)}}catch(e){console.log(e);}}
if(typeof utag=="undefined"&&!utag_condload){var utag={id:"cbsi.webplex",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\.|\...\.jp$/.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_cbsi.webplex_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(tid,tcat,a,b,c,d,f,g){g={};utag.loader.RDcp(g);try{if(typeof g['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(g['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0;if(c[f].tid==tid&&c[f].tcat==b[0].substring(1))return true;}
if(tcat==b[0].substring(1))return true;}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}
if(tid==b[0])return true;}}}}}catch(e){utag.DB(e)}
return false;},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){var t={};var d=new Date();var m=(utag.ut.typeOf(d.toISOString)=="function");o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;t["tealium_event"]=o["ut.event"]=a||"view";t["tealium_visitor_id"]=o["ut.visitor_id"]=o["cp.utag_main_v_id"];t["tealium_session_id"]=o["ut.session_id"]=o["cp.utag_main_ses_id"];t["tealium_session_number"]=o["cp.utag_main__sn"];t["tealium_session_event_number"]=o["cp.utag_main__se"];try{t["tealium_datasource"]=utag.cfg.datasource;t["tealium_account"]=o["ut.account"]=utag.cfg.utid.split("/")[0];t["tealium_profile"]=o["ut.profile"]=utag.cfg.utid.split("/")[1];t["tealium_environment"]=o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}
t["tealium_random"]=Math.random().toFixed(16).substring(2);t["tealium_library_name"]="ut"+"ag.js";t["tealium_library_version"]=(utag.cfg.template+"0").substring(2);t["tealium_timestamp_epoch"]=Math.floor(d.getTime()/1000);t["tealium_timestamp_utc"]=(m?d.toISOString():"");d.setHours(d.getHours()-(d.getTimezoneOffset()/60));t["tealium_timestamp_local"]=(m?d.toISOString().replace("Z",""):"");utag.ut.merge(o,t,0);},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__se"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";o["cp.utag_main__se"]=(1+parseInt(o["cp.utag_main__se"]||0))+"";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;utag.loader.SC("utag_main",{"_sn":(o["cp.utag_main__sn"]||1),"_se":o["cp.utag_main__se"],"_ss":o["cp.utag_main__ss"],"_st":c,"ses_id":(o["cp.utag_main_ses_id"]||a)+";exp-session","_pn":o["cp.utag_main__pn"]+";exp-session"});},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=utag.cfg.path;w=v.indexOf(".tiqcdn.");if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:v.substring(0,v.indexOf("/ut"+"ag/")+6)+"tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a||{},cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a||{},cfg:{cb:c,uids:d}})},track:function(a,b,c,d,e){a=a||{};if(typeof a=="string"){a={event:a,data:b||{},cfg:{cb:c,uids:d}}}
for(e in utag.loader.GV(utag.o)){utag.o[e].handler.trigger(a.event||"view",a.data||a,a.cfg||{cb:b,uids:c})}
a.cfg=a.cfg||{cb:b};if(typeof a.cfg.cb=="function")a.cfg.cb();return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];if(!utag.loader.OU(utag.loader.cfg[d].tid)){sendTag(a,b,d);}}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){m.parentNode.removeChild(m);}
b=a.createElement("iframe");o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(typeof o.error=="function"){utag.loader.EV(b,"error",o.error);}
if(o.type!="img"){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['cbsi.webplex']=utag;utag.cfg={template:"ut4.46.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),datasource:"##UTDATASOURCE##".replace("##"+"UTDATASOURCE##",""),path:"//tags.tiqcdn.com/utag/cbsi/webplex/prod/",utid:"cbsi/webplex/202306211452"};utag.cfg.v=utag.cfg.template+"202306211452";utag.cond={10:0,4:0,6:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.window.location.hostname']=window.location.hostname}catch(e){utag.DB(e)};try{ud['js_page.adobeDataLayer[0].eventInfo.g_brandId']=adobeDataLayer[0].eventInfo.g_brandId}catch(e){utag.DB(e)};try{ud['js_page.adobeDataLayer[0].eventInfo.g_language']=adobeDataLayer[0].eventInfo.g_language}catch(e){utag.DB(e)};try{ud['js_page.adobeDataLayer[0].eventInfo.g_countryName']=adobeDataLayer[0].eventInfo.g_countryName}catch(e){utag.DB(e)};try{ud['js_page.adobeDataLayer[0].eventInfo.g_coppa']=adobeDataLayer[0].eventInfo.g_coppa}catch(e){utag.DB(e)};try{ud['js_page.adobeDataLayer[0].eventInfo.g_brand']=adobeDataLayer[0].eventInfo.g_brand}catch(e){utag.DB(e)};try{ud['js_page.adobeDataLayer[0].eventInfo.g_platform']=adobeDataLayer[0].eventInfo.g_platform}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'10':try{c[10]|=(d['ts_platformID'].toString().toLowerCase()!='webNickAnimation'.toLowerCase())||(d['ts_platformID'].toString().toLowerCase()!='webNickatNite'.toLowerCase())}catch(e){utag.DB(e)};break;case'4':try{c[4]|=(d['priv_optanonConsentPerformance']=='1')}catch(e){utag.DB(e)};break;case'6':try{c[6]|=(typeof d['dom.domain']!='undefined')}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b,c,d,e,f,g){if((typeof b['js_page.adobeDataLayer[0].eventInfo.g_brand']!='undefined'&&typeof b['js_page.adobeDataLayer[0].eventInfo.g_brand']!='undefined'&&b['js_page.adobeDataLayer[0].eventInfo.g_brand']!='')){d=b['js_page.adobeDataLayer[0].eventInfo.g_brand'];if(typeof d=='undefined')return;c=[{'bet':'bet-dl'},{'cmt':'cmt-dl'},{'cc':'cc-dl'},{'logotv':'logotv-dl'},{'mtv':'mtv-dl'},{'nickanimation':'nickanimation-dl'},{'nickatnite':'nickatnite-dl'},{'paramountnetwork':'paramountnetwork-dl'},{'smithsonian':'smithsonian-dl'},{'tvland':'tvland-dl'},{'vh1':'vh1-dl'},{'southpark':'cc-dl'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){if(d==f){b['ts_platformID']=c[e][f];m=true};};if(m)break};if(!m)b['ts_platformID']='webTesting-unmappedDatalayer';}},function(a,b,c,d,e,f,g){if(typeof b['js_page.adobeDataLayer[0].eventInfo.g_brand']=='undefined'||typeof b['js_page.adobeDataLayer[0].eventInfo.g_brand']!='undefined'&&b['js_page.adobeDataLayer[0].eventInfo.g_brand']==''){d=b['js_page.window.location.hostname'];if(typeof d=='undefined')return;c=[{'(www\\.mtv\\.com)|(.*mtv.*webplex.*)|(.*local.*mtv)':'mtv-dom'},{'(www\\.cc\\.com)|(southpark\\.cc\\.com)|(.*cc.*webplex.*)|(.*local.*cc)':'cc-dom'},{'(www\\.paramountnetwork\\.com)|(.*paramountnetwork.*webplex.*)|(.*local.*paramountnetwork)':'paramountnetwork-dom'},{'(www\\.vh1\\.com)|(.*vh1.*webplex.*)|(.*local.*vh1)':'vh1-dom'},{'(.*\\.nickanimation\\.com)|(.*\\.nickanimationdev\\.com)':'nickanimation-dom'},{'(www\\.bet\\.com)|(.*bet.*webplex.*)|(.*local.*bet)':'bet-dom'},{'(smithsonianchannel)':'smithsonianchannel-dom'},{'(tvland)':'tvland-dom'},{'(www\\.cmt\\.com)|(.*cmt.*webplex.*)|(.*local.*cmt)':'cmt-dom'},{'(logotv)':'logotv-dom'},{'(www\\.nickatnite\\.com)|(.*nickatnite.*webplex.*)|(.*local.*nickatnite)':'nickatnite-dom'}];var m=false;for(e=0;e<c.length;e++){for(f in utag.loader.GV(c[e])){g=new RegExp(f,'i');if(g.test(d)){b['ts_platformID']=c[e][f];m=true};};if(m)break};if(!m)b['ts_platformID']='webTesting-unmappedDomain';}},function(a,b){try{utag.runonce=utag.runonce||{};utag.runonce.ext=utag.runonce.ext||{};if(typeof utag.runonce.ext[94]=='undefined'){utag.runonce.ext[94]=1;if(1){function listener(model,message){if(message.event==="OneTrustLoaded"||message.event==="OneTrustGroupsUpdated"){b.priv_optanonConsentPerformance=message.OnetrustActiveGroups.includes(2)?"1":"0";b.priv_optanonConsentFunctional=message.OnetrustActiveGroups.includes(3)?"1":"0";b.priv_optanonConsentMarketing=message.OnetrustActiveGroups.includes(4)?"1":"0";b.priv_optanonConsentSocial=message.OnetrustActiveGroups.includes(5)?"1":"0";utag.view(b)}}
if(window.dataLayer&&DataLayerHelper){window.gdlhelper=new DataLayerHelper(window.dataLayer,{listener:listener,listenToPast:true,});}}}}catch(e){utag.DB(e)}},function(a,b){try{if(b['priv_optanonConsentPerformance']=='0'){try{b['priv_adobeDataEnabled']=vtg.config.AdobeData.enabled=false}catch(e){};try{b['priv_adobeMediaEnabled']=vtg.config.AdobeMedia.enabled=false}catch(e){};try{b['comscore_v7_trigger']=vtg.config.ComscoreStreaming.enabled=false}catch(e){};try{b['mux_trigger']=vtg.config.Mux.enabled=false}catch(e){}}}catch(e){utag.DB(e);}},function(a,b){try{if(1){(function(w){if(w.utag&&w.utag.data){var env=w.utag.data['ut.env'];w.utag.data['isDev']=!!(env&&env!=='prod');}})(window);}}catch(e){utag.DB(e)}},function(a,b){try{if(/^bet-/i.test(b['ts_platformID'])){b['tc_network']='bet.com';b['tc_comscore_c3']='BETbrowser';b['tc_comscore_c4']='bet.com';b['tc_mux_sub_property_id']='BET Now US';b['tc_adobe_reportSuiteProduction']='betbetprod';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='smetrics'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^cmt-/i.test(b['ts_platformID'])){b['tc_network']='cmt.com';b['tc_comscore_c3']='CMTBrowser';b['tc_comscore_c4']='cmt.com';b['tc_mux_sub_property_id']='CMT US';b['tc_adobe_reportSuiteProduction']='cmtvia';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^cc-/i.test(b['ts_platformID'])){b['tc_network']='cc.com';b['tc_comscore_c3']='CCBrowser';b['tc_comscore_c4']='cc.com';b['tc_mux_sub_property_id']='Comedy Central US';b['tc_adobe_reportSuiteProduction']='viacomedycentral';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^logotv-/i.test(b['ts_platformID'])){b['tc_network']='logotv.com';b['tc_comscore_c3']='LogoTVBrowser';b['tc_comscore_c4']='logotv.com';b['tc_mux_sub_property_id']='Logo TV US';b['tc_adobe_reportSuiteProduction']='vialogoonline';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^mtv-/i.test(b['ts_platformID'])){b['tc_network']='mtv.com';b['tc_comscore_c3']='MTVBrowser';b['tc_comscore_c4']='mtv.com';b['tc_mux_sub_property_id']='MTV US';b['tc_adobe_reportSuiteProduction']='viamtv';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^nickanimation-/i.test(b['ts_platformID'])){b['tc_network']='nickanimation.com';b['tc_comscore_c3']='NickAnimationBrowser';b['tc_comscore_c4']='nickanimation.com';b['tc_mux_sub_property_id']='Nick US';b['tc_adobe_reportSuiteProduction']='vianickmarketing';b['tc_adobe_reportSuiteTest']='viawebplexdev';try{b['mux_trigger']=vtg.config.Mux.enabled=false}catch(e){};try{b['comscore_v7_trigger']=vtg.config.ComscoreStreaming.enabled=false}catch(e){};b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^nickatnite-/i.test(b['ts_platformID'])){b['tc_network']='nickatnite.com';b['tc_comscore_c3']='NickAtNiteBrowser';b['tc_comscore_c4']='nickatnite.com';b['tc_mux_sub_property_id']='NickatNite US';b['tc_adobe_reportSuiteProduction']='vianickatnite';b['tc_adobe_reportSuiteTest']='viawebplexdev';try{b['mux_trigger']=vtg.config.Mux.enabled=false}catch(e){};try{b['comscore_v7_trigger']=vtg.config.ComscoreStreaming.enabled=false}catch(e){};b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^paramountnetwork-/i.test(b['ts_platformID'])){b['tc_network']='paramountnetwork.com';b['tc_comscore_c3']='ParamountNetworkBrowser';b['tc_comscore_c4']='paramountnetwork.com';b['tc_mux_sub_property_id']='Paramount Network US';b['tc_adobe_reportSuiteProduction']='viaparamount';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^smithsonian/i.test(b['ts_platformID'])){b['tc_network']='smithsonianchannel.com';b['tc_comscore_c3']='SmithsonianChannelBrowser';b['tc_comscore_c4']='smithsonianchannel.com';b['tc_mux_sub_property_id']='Smithsonian Channel US';b['tc_adobe_reportSuiteProduction']='cbssmithtve';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^tvland-/i.test(b['ts_platformID'])){b['tc_network']='tvland.com';b['tc_comscore_c3']='TVLandBrowser';b['tc_comscore_c4']='tvland.com';b['tc_mux_sub_property_id']='TV Land US';b['tc_adobe_reportSuiteProduction']='tvland';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^vh1-/i.test(b['ts_platformID'])){b['tc_network']='vh1.com';b['tc_comscore_c3']='VH1Browser';b['tc_comscore_c4']='vh1.com';b['tc_mux_sub_property_id']='VH1 US';b['tc_adobe_reportSuiteProduction']='viavh1com';b['tc_adobe_reportSuiteTest']='viawebplexdev';b['tc_adobe_subdomain']='ssc'}}catch(e){utag.DB(e);}},function(a,b){try{if(/^webTesting-/i.test(b['ts_platformID'])){b['tc_network']='paramountnetwork.com';b['tc_comscore_c3']='testValue3';b['tc_comscore_c4']='testValue4';b['tc_mux_sub_property_id']='Test ID';b['tc_adobe_reportSuiteProduction']='viawebplexdev';b['tc_adobe_reportSuiteTest']='viawebplexdev'}}catch(e){utag.DB(e);}}];utag.handler.cfg_extend=[{"blr":1,"bwq":0,"id":"87","alr":0,"end":0},{"id":"49","bwq":0,"blr":1,"alr":0,"end":0},{"blr":1,"bwq":0,"id":"94","end":0,"alr":0},{"alr":1,"end":0,"id":"62","bwq":0,"blr":0},{"blr":0,"bwq":0,"id":"3","alr":1,"end":0},{"id":"40","bwq":0,"blr":0,"alr":1,"end":0},{"id":"83","bwq":0,"blr":0,"alr":1,"end":0},{"id":"43","bwq":0,"blr":0,"alr":1,"end":0},{"id":"84","bwq":0,"blr":0,"alr":1,"end":0},{"id":"38","bwq":0,"blr":0,"end":0,"alr":1},{"end":0,"alr":1,"id":"73","bwq":0,"blr":0},{"end":0,"alr":1,"blr":0,"bwq":0,"id":"85"},{"alr":1,"end":0,"blr":0,"bwq":0,"id":"14"},{"blr":0,"bwq":0,"id":"81","end":0,"alr":1},{"end":0,"alr":1,"blr":0,"bwq":0,"id":"82"},{"end":0,"alr":1,"blr":0,"bwq":0,"id":"42"},{"end":0,"alr":1,"blr":0,"bwq":0,"id":"52"}];utag.loader.initcfg=function(){utag.loader.cfg={"29":{load:4,send:1,v:202306011026,wait:0,tid:20010},"30":{load:4,send:1,v:202306011026,wait:0,tid:20010},"27":{load:(utag.cond[6]&&utag.cond[4]&&utag.cond[10]),send:1,v:202306011026,wait:1,tid:20010},"28":{load:(utag.cond[6]&&utag.cond[4]),send:1,v:202306011026,wait:1,tid:20010}};utag.loader.cfgsort=["29","30","27","28"];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(utag._i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[utag._i]=utag_cfg_ovrd[utag._i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}
//tealium universal tag - utag.29 ut4.0.202306211452, Copyright 2023 Tealium.com Inc. All Rights Reserved.
"use strict";window.vtg=window.vtg||{};window.vtg.adobedata=(()=>{var c=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var O=Object.prototype.hasOwnProperty;var T=(i,t)=>{for(var e in t)c(i,e,{get:t[e],enumerable:!0})},C=(i,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of y(t))!O.call(i,r)&&r!==e&&c(i,r,{get:()=>t[r],enumerable:!(o=R(t,r))||o.enumerable});return i};var b=i=>C(c({},"__esModule",{value:!0}),i),g=(i,t,e,o)=>{for(var r=o>1?void 0:o?R(t,e):t,n=i.length-1,s;n>=0;n--)(s=i[n])&&(r=(o?s(t,e,r):s(r))||r);return o&&r&&c(t,e,r),r};var N=(i,t,e)=>new Promise((o,r)=>{var n=a=>{try{h(e.next(a))}catch(S){r(S)}},s=a=>{try{h(e.throw(a))}catch(S){r(S)}},h=a=>a.done?o(a.value):Promise.resolve(a.value).then(n,s);h((e=e.apply(i,t)).next())});var F={};T(F,{AdobeData:()=>d});function u(i){return function(t,e,o){typeof o.value=="function"&&(typeof t.eventMap!="object"&&(t.eventMap={}),t.eventMap[i]||(t.eventMap[i]=o.value))}}var f=class{constructor(t,e){this.key=t;this.service=e}onUpdate(t){let o=this.eventMap[t.name];this.notification=t,o&&o.apply(this)}};var l=class{constructor(t,e){this.key=t;this.service=e;this.keepUndef=!1;let{StringUtil:o}=this.service.util;this.config=e.manifest[t];let r=this.mapByNodeName("serverInfo"),n=this.mapByNodeName("sessionInfo"),s=r||n;s&&(this.serverInfo=s,this.keepUndef=!!o.isTruthy(s["sendUndefined"]))}removeUndef(t){if(!t)return;let{StringUtil:e}=this.service.util,o={};return Object.keys(t).forEach(r=>{let n=t[r];e.isDefined(n)&&(o[r]=n)}),o}isAtLeast95(){let t=this.getData();return t&&t.isLive?!1:t.playhead>=t.duration*.95}isId3Owner(){let t=this.getData(),e=this.serverInfo,o=e?e.id3Owner:void 0;return t.id3Info&&t.id3Info.id===o}getLiveSegmentInfo(){let t=this.getData(),e=t.data,{StringUtil:o}=this.service.util,r={};if(e&&typeof e=="string"&&e.indexOf("|")>-1){let n=e.split("|"),s=o.trim;n.length>1&&(r={segmentId:s(n[0]),segmentTitle:s(n[1]),segmentEdition:s(n[2]),segmentOwner:t.id},this.service.dataProxy.update(r))}return r}getData(){return this.service.dataProxy.getData()}mapByNodeName(t,e){let o=this.service.dataRunner.mapByNodeName(this.key,t,e);return this.keepUndef?o:this.removeUndef(o)}mapByEventName(t,e){let o=this.service.dataRunner.mapByEventName(this.key,t,e);return this.keepUndef?o:this.removeUndef(o)}};var I=class extends f{constructor(e,o){super(e,o);this.key=e;this.service=o;this.queue=[];this.version="1.1.0-16:13:06";this.config=o.manifest[e],this.dataAccess=new l(e,o)}onNotify(e){let{View:o}=this.service.util;this.dependency?(this.sdk||(this.sdk=o.get(this.dependency.name)),this.queue.unshift(e),this.flush()):this.dispatch(e)}flush(){if(this.dependency&&!this.sdk)return;let e=this.queue.length;for(;e--;){let o=this.queue.pop();o&&this.dispatch(o)}}dispatch(e){let r=this.eventMap[e.name];this.notification=e,r&&r.apply(this)}};var D=(e=>(e.timestamp="timestamp",e.serviceKey="serviceKey",e))(D||{});var p=class{constructor(t){this.receiver=t;this.ssl=!0;let e=t.service.sessionData;this.ssl=!!e.getItem("ssl")}getServerInfo(){if(this.serverInfo=this.mapByNodeName("serverInfo"),!!(this.serverInfo&&this.serverInfo.dataUrl))return this.apiUrl=this.serverInfo.dataUrl,delete this.serverInfo.dataUrl,delete this.serverInfo.demdexUrl,this.serverInfo}mapByNodeName(t,e){return this.receiver.dataAccess.mapByNodeName(t,e)}};var m=class{getXml(t){return['<?xml version="1.0" encoding="UTF-8"?>',"<request>",this.toXml(t),"</request>"].join("")}toXml(t){let e="<{key}>{value}</{key}>",o="";return Object.keys(t).forEach(r=>{o+=e.replace(/{key}/g,r).replace(/{value}/g,typeof t[r]!="object"?this.replace(t[r]):this.toXml(t[r]))}),o}replace(t){if(!t)return t;let e=o=>["&",o,";"].join("");return t.toString().replace(/&|"|'|<|>/g,o=>{let r=o.toString();switch(r){case"&":r=e("amp");break;case'"':r=e("quot");break;case"'":r=e("apos");break;case"<":r=e("lt");break;case">":r=e("gt");break}return r})}};var d=class extends I{constructor(){super(...arguments);this.dataqueue=[];this.isReady=!1}onRegister(){this.vo=new p(this),this.xml=new m}onIdReady(){let e=this.vo.getServerInfo(),o=this.service.logger;if(!e){o.warn("adobe data server info node is missing");return}this.isReady=!0,this.flush()}onAdobeData(){let e=this.notification.body;!e||this.track(e)}track(e){this.dataqueue.unshift(e),this.isReady&&this.flush()}flush(){for(let e=this.dataqueue.length;e--;){let o=this.dataqueue.pop();this.send(o)}}send(e){if(!e)return;let o=this.vo.serverInfo;if(!!o){for(let r in o)e[r]||(e[r]=o[r]);Object.keys(D).forEach(r=>{delete e[r]}),this.post(e)}}post(e){return N(this,null,function*(){let{FetchUtil:o}=this.service.util,r={method:"POST",headers:{"Content-type":"application/xml"},body:this.xml.getXml(e)};return o.fetch({ssl:this.vo.ssl,url:this.vo.apiUrl,requestInit:r})})}onRemove(){this.vo=null,this.dataqueue=null,this.eventMap=null}};g([u("CloudIdReady")],d.prototype,"onIdReady",1),g([u("AdobeData")],d.prototype,"onAdobeData",1);return b(F);})();
//tealium universal tag - utag.30 ut4.0.202306211452, Copyright 2023 Tealium.com Inc. All Rights Reserved.
"use strict";window.vtg=window.vtg||{};window.vtg.adobemedia=(()=>{var m=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var A=(h,s)=>{for(var e in s)m(h,e,{get:s[e],enumerable:!0})},O=(h,s,e,t)=>{if(s&&typeof s=="object"||typeof s=="function")for(let i of C(s))!v.call(h,i)&&i!==e&&m(h,i,{get:()=>s[i],enumerable:!(t=D(s,i))||t.enumerable});return h};var y=h=>O(m({},"__esModule",{value:!0}),h),n=(h,s,e,t)=>{for(var i=t>1?void 0:t?D(s,e):s,o=h.length-1,c;o>=0;o--)(c=h[o])&&(i=(t?c(s,e,i):c(i))||i);return t&&i&&m(s,e,i),i};var p=(h,s,e)=>new Promise((t,i)=>{var o=d=>{try{S(e.next(d))}catch(I){i(I)}},c=d=>{try{S(e.throw(d))}catch(I){i(I)}},S=d=>d.done?t(d.value):Promise.resolve(d.value).then(o,c);S((e=e.apply(h,s)).next())});var P={};A(P,{AdobeMedia:()=>a});function r(h){return function(s,e,t){typeof t.value=="function"&&(typeof s.eventMap!="object"&&(s.eventMap={}),s.eventMap[h]||(s.eventMap[h]=t.value))}}var f=class{constructor(s,e){this.key=s;this.service=e}onUpdate(s){let t=this.eventMap[s.name];this.notification=s,t&&t.apply(this)}};var T=class{constructor(s,e){this.key=s;this.service=e;this.keepUndef=!1;let{StringUtil:t}=this.service.util;this.config=e.manifest[s];let i=this.mapByNodeName("serverInfo"),o=this.mapByNodeName("sessionInfo"),c=i||o;c&&(this.serverInfo=c,this.keepUndef=!!t.isTruthy(c["sendUndefined"]))}removeUndef(s){if(!s)return;let{StringUtil:e}=this.service.util,t={};return Object.keys(s).forEach(i=>{let o=s[i];e.isDefined(o)&&(t[i]=o)}),t}isAtLeast95(){let s=this.getData();return s&&s.isLive?!1:s.playhead>=s.duration*.95}isId3Owner(){let s=this.getData(),e=this.serverInfo,t=e?e.id3Owner:void 0;return s.id3Info&&s.id3Info.id===t}getLiveSegmentInfo(){let s=this.getData(),e=s.data,{StringUtil:t}=this.service.util,i={};if(e&&typeof e=="string"&&e.indexOf("|")>-1){let o=e.split("|"),c=t.trim;o.length>1&&(i={segmentId:c(o[0]),segmentTitle:c(o[1]),segmentEdition:c(o[2]),segmentOwner:s.id},this.service.dataProxy.update(i))}return i}getData(){return this.service.dataProxy.getData()}mapByNodeName(s,e){let t=this.service.dataRunner.mapByNodeName(this.key,s,e);return this.keepUndef?t:this.removeUndef(t)}mapByEventName(s,e){let t=this.service.dataRunner.mapByEventName(this.key,s,e);return this.keepUndef?t:this.removeUndef(t)}};var u=class extends f{constructor(e,t){super(e,t);this.key=e;this.service=t;this.queue=[];this.version="1.1.0-16:13:16";this.config=t.manifest[e],this.dataAccess=new T(e,t)}onNotify(e){let{View:t}=this.service.util;this.dependency?(this.sdk||(this.sdk=t.get(this.dependency.name)),this.queue.unshift(e),this.flush()):this.dispatch(e)}flush(){if(this.dependency&&!this.sdk)return;let e=this.queue.length;for(;e--;){let t=this.queue.pop();t&&this.dispatch(t)}}dispatch(e){let i=this.eventMap[e.name];this.notification=e,i&&i.apply(this)}};var g=class{constructor(s){this.receiver=s;this.maxWaitTime=12e4;this.maxSessionTime=30;this.startTime=0;this.hasChapterInfoNode=!1;let{DateUtil:e}=this.receiver.service.util,t=this.receiver.dataAccess,i=this.receiver.service.logger,o=t.mapByNodeName("serverInfo");if(!o){i.enabled&&i.warn("serverInfo"+" node is missing");return}o.maxSessionStartWaitTime&&(this.maxWaitTime=o.maxSessionStartWaitTime),o.maxSessionTimeoutMinutes&&(this.maxSessionTime=o.maxSessionTimeoutMinutes),this.serverInfo=o,this.startTime=e.getTime(),this.playerStateNode=t.mapByNodeName("playerStates"),this.hasChapterInfoNode=!!t.mapByNodeName("chapterInfo")}getSessionUrl(){let{StringUtil:s}=this.receiver.service.util,e=s.trimFwdSlash,t=this.serverInfo,i=e(t["sessionsPath"]||t.urlPath);return this.host=e(t["apiServerHost"]||t.serverUrl),[this.host,i].join("/")}getEventUrl(s){let e=s.replace(/^\/|\/$/g,""),t=this.serverInfo,{StringUtil:i}=this.receiver.service.util,o=i.trimFwdSlash(t["eventsPath"]||"events");return[this.host,e,o].join("/")}getSessionInfo(){var S;let{ObjectUtil:s,StringUtil:e}=this.receiver.service.util,t=this.getPayload("sessionStart"),i=s.merge;t.params=i(this.mapByNodeName("mediaInfo"),this.mapByNodeName("accountInfo")),t.customMetadata=this.mapByNodeName("customData"),t.qoeData=this.mapByNodeName("qoeData");let o=t.params["visitor.marketingCloudUserId"],c=(S=this.receiver.config.params)==null?void 0:S["accountInfo"];return c&&c["analytics.aid"]&&!e.isDefined(o)&&delete t.params["visitor.marketingCloudUserId"],t}getPayload(s){let{DateUtil:e}=this.receiver.service.util,t=this.receiver.service.dataProxy.getData(),i={eventType:s,playerTime:{playhead:t.playhead,ts:e.getTime()},params:{}};switch(s){case"adBreakStart":i.params=this.mapByNodeName("adBreakInfo");break;case"adStart":i.params=this.mapByNodeName("adInfo");break;case"chapterStart":i.params=this.mapByNodeName("chapterInfo"),i.customMetadata=this.mapByNodeName("customData");break;case"error":i.qoeData=this.mapByNodeName("errorInfo");break;case"stateStart":case"stateEnd":i.params=this.mapByNodeName("playerInfo");break}return i}isMaxWaitTime(){let{DateUtil:s}=this.receiver.service.util;return s.getTime()-this.startTime>this.maxWaitTime}hasId3Tracking(){let s=this.serverInfo,{StringUtil:e}=this.receiver.service.util;return s.hasOwnProperty("id3Tracking")?e.isTruthy(s.id3Tracking):!0}mapByNodeName(s){return this.receiver.dataAccess.mapByNodeName(s)||{}}};var a=class extends u{constructor(){super(...arguments);this.hasSession=!1;this.hasSessionRequest=!1;this.hasChapterTracking=!0;this.hasContentStart=!1;this.hasStateChange=!1;this.hasAdStart=!1;this.hasInterrupted=!1;this.isIdReady=!1;this.pausedTime=-1;this.liveStreamSegmentCount=0;this.pingInterval=10;this.ssl=!0}onAdBreakStart(){this.hasContentStart=!1,this.start(),this.track("adBreakStart")}onAdStart(){this.hasAdStart=!0,this.track("adStart")}onAdPause(){this.track("pauseStart"),this.pause()}onAdQuartile(){this.adHb()}onAdSkip(){this.track("adSkip")}onAdEnd(){this.hasAdStart=!1,this.track("adComplete")}onAdBreakEnd(){this.track("adBreakComplete"),this.hasStateChange=!0,this.hasContentStart=!0,this.hasAdStart=!1}onContentPause(){this.track("pauseStart"),this.pause()}onContentEnd(){this.hasContentStart=!1}onContentSegmentStart(){!this.hasChapterTracking||this.chapterStart()}onContentSegmentEnd(){!this.hasChapterTracking||this.chapterEnd()}onBufferStart(){!this.hasContentStart||(this.hasStateChange=!0,this.track("bufferStart"))}onSeekStart(){!this.hasContentStart||(this.hasStateChange=!0)}onCuePoint(){if(!this.vo.hasId3Tracking()||!(this.getData().isLive||this.dataAccess.isId3Owner()))return;let e=this.dataAccess.getLiveSegmentInfo();if(!e.segmentId)return;let t=e.segmentId;this.liveSegmentId!==t&&(this.liveSegmentId=t,this.end(),this.liveStreamSegmentCount++,this.service.dataProxy.update({liveStreamSegmentCount:this.liveStreamSegmentCount}),this.contentStart())}onFatalError(){this.track("error"),this.track("sessionEnd"),this.hasSession=!1,this.hasSessionRequest=!1,this.hasContentStart=!1}onPlayerState(){if(!this.hasSession)return;let e=this.getData().playerState;this.vo.playerStateNode&&this.vo.playerStateNode[e.name]&&this.track(e.type)}onChapterStart(){this.chapterStart()}onChapterComplete(){this.chapterEnd()}onContentResume(){this.resume()}onContentStart(){this.contentStart()}onAdResume(){this.resume()}onTimeUpdate(){this.play()}onHeartbeat(){this.ping()}onPausedHeartbeat(){this.ping()}onSessionEnd(){this.end()}onResourceInterrupt(){this.hasInterrupted=!0,this.end()}onIdReady(){this.isIdReady=!0}onRegister(){let{StringUtil:e}=this.service.util;this.vo=new g(this),this.eventQueue=[],this.ssl=!!this.service.sessionData.getItem("ssl");let t=this.vo.serverInfo;if(t){let i=t["aviaChapterTracking"];this.hasChapterTracking=e.isTruthy(i),t.pingInterval&&(this.pingInterval=t.pingInterval)}}onRemove(){this.vo=null,this.eventMap=null}flush(){return p(this,null,function*(){let{FetchUtil:e}=this.service.util,t=this.service.logger;if(!this.hasSession)return;let i=this.getData(),o=this.eventQueue;(()=>p(this,null,function*(){let S=[];for(let d=o.length;d--;){let I=this.eventQueue.pop();S.push(new Promise((N,F)=>{e.fetch({ssl:this.ssl,url:this.eventUrl,body:I}).then(l=>{N(l)}).catch(l=>{t.enabled&&t.warn(l),this.service.notify("RuntimeError",l),N(!1)})}))}return(yield Promise.all(S)).filter(d=>d!==!1)}))()})}start(){return p(this,null,function*(){if(!this.isIdReady||this.hasSessionRequest)return;this.hasSessionRequest=!0,this.hasInterrupted=!1,this.sessionInfo=this.vo.getSessionInfo();let{FetchUtil:e}=this.service.util,t=yield e.fetch({ssl:this.ssl,url:this.vo.getSessionUrl(),body:this.sessionInfo});if(t.ok){let i=t.headers.get("location");if(!i)throw"error"+": location not found";this.hasSession=!0,this.eventUrl=this.vo.getEventUrl(i),this.flush()}else throw this.hasSessionRequest=!1,this.service.notify("RuntimeError",t),"error"+t.statusText})}track(e){let t=this.vo.getPayload(e);this.eventQueue.unshift(t),this.flush(),!this.hasInterrupted&&(this.hasSession||this.start())}contentStart(){this.hasContentStart=!0,this.hasStateChange=!1,this.start(),this.track("play")}chapterStart(){this.vo.hasChapterInfoNode&&this.track("chapterStart")}chapterEnd(){this.vo.hasChapterInfoNode&&this.track("chapterComplete")}play(){this.hasStateChange&&(this.hasStateChange=!1,this.track("play")),this.hasSession||this.start()}adHb(){this.hasAdStart||this.eventMap["AdStart"].call(this),this.ping()}ping(){this.track("ping")}end(){if(!this.hasSession){this.hasSessionRequest=!1;return}let e=this.getData();this.dataAccess.isAtLeast95()&&!e.isLive?this.track("sessionComplete"):this.track("sessionEnd"),this.hasSession=!1,this.hasSessionRequest=!1,this.hasContentStart=!1,this.sessionInfo=null}checkPausedTime(){let{DateUtil:e}=this.service.util;if(this.pausedTime===-1)return;e.getElapsedSince(this.pausedTime)/6e4>=this.vo.maxSessionTime&&(this.end(),this.contentStart())}getData(){return this.service.dataProxy.getData()}pause(){let{DateUtil:e}=this.service.util;this.hasStateChange=!0,this.pausedTime=e.getTime()}resume(){this.checkPausedTime(),this.play()}};n([r("AdBreakStart")],a.prototype,"onAdBreakStart",1),n([r("AdStart")],a.prototype,"onAdStart",1),n([r("AdPause")],a.prototype,"onAdPause",1),n([r("AdFirstQuartile"),r("AdMidQuartile"),r("AdThirdQuartile")],a.prototype,"onAdQuartile",1),n([r("AdSkip")],a.prototype,"onAdSkip",1),n([r("AdEnd")],a.prototype,"onAdEnd",1),n([r("AdBreakEnd")],a.prototype,"onAdBreakEnd",1),n([r("ContentPause")],a.prototype,"onContentPause",1),n([r("ContentEnd")],a.prototype,"onContentEnd",1),n([r("ContentSegmentStart")],a.prototype,"onContentSegmentStart",1),n([r("ContentSegmentEnd")],a.prototype,"onContentSegmentEnd",1),n([r("BufferStart")],a.prototype,"onBufferStart",1),n([r("SeekStart")],a.prototype,"onSeekStart",1),n([r("CuePoint")],a.prototype,"onCuePoint",1),n([r("FatalError")],a.prototype,"onFatalError",1),n([r("PlayerState")],a.prototype,"onPlayerState",1),n([r("ChapterStart")],a.prototype,"onChapterStart",1),n([r("ChapterComplete")],a.prototype,"onChapterComplete",1),n([r("ContentResume")],a.prototype,"onContentResume",1),n([r("ContentStart")],a.prototype,"onContentStart",1),n([r("AdResume")],a.prototype,"onAdResume",1),n([r("TimeUpdate")],a.prototype,"onTimeUpdate",1),n([r("Heartbeat")],a.prototype,"onHeartbeat",1),n([r("PausedHeartbeat")],a.prototype,"onPausedHeartbeat",1),n([r("SessionEnd")],a.prototype,"onSessionEnd",1),n([r("ResourceInterrupt")],a.prototype,"onResourceInterrupt",1),n([r("CloudIdReady")],a.prototype,"onIdReady",1);return y(P);})();(function(){ if(typeof utag!='undefined' && !utag_condload){utag.initcatch=true;for(var i in utag.loader.GV(utag.loader.cfg)){var b=utag.loader.cfg[i];if(b.load!=4){utag.initcatch=false;break};if(b.wait==1){utag.initcatch=false;break}};if(utag.initcatch)utag.handler.INIT();} })();